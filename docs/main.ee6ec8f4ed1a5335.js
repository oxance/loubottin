(self.webpackChunkloubottin=self.webpackChunkloubottin||[]).push([[179],{320:(pt,ft,we)=>{"use strict";function z(e){return"function"==typeof e}function Fn(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const zi=Fn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function sr(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Se{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(z(r))try{r()}catch(s){t=s instanceof zi?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Lh(s)}catch(o){t=t??[],o instanceof zi?t=[...t,...o.errors]:t.push(o)}}if(t)throw new zi(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Lh(t);else{if(t instanceof Se){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&sr(n,t)}remove(t){const{_finalizers:n}=this;n&&sr(n,t),t instanceof Se&&t._removeParent(this)}}Se.EMPTY=(()=>{const e=new Se;return e.closed=!0,e})();const qi=Se.EMPTY;function Tr(e){return e instanceof Se||e&&"closed"in e&&z(e.remove)&&z(e.add)&&z(e.unsubscribe)}function Lh(e){z(e)?e():e.unsubscribe()}const or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},go={setTimeout(e,t,...n){const{delegate:r}=go;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=go;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Rh(e){go.setTimeout(()=>{const{onUnhandledError:t}=or;if(!t)throw e;t(e)})}function Vh(){}const S5=Wc("C",void 0,void 0);function Wc(e,t,n){return{kind:e,value:t,error:n}}let ar=null;function mo(e){if(or.useDeprecatedSynchronousErrorHandling){const t=!ar;if(t&&(ar={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ar;if(ar=null,n)throw r}}else e()}class Kc extends Se{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Tr(t)&&t.add(this)):this.destination=F5}static create(t,n,r){return new Bi(t,n,r)}next(t){this.isStopped?Yc(function T5(e){return Wc("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Yc(function A5(e){return Wc("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yc(S5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const P5=Function.prototype.bind;function Qc(e,t){return P5.call(e,t)}class N5{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){vo(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){vo(r)}else vo(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){vo(n)}}}class Bi extends Kc{constructor(t,n,r){let i;if(super(),z(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&or.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Qc(t.next,s),error:t.error&&Qc(t.error,s),complete:t.complete&&Qc(t.complete,s)}):i=t}this.destination=new N5(i)}}function vo(e){or.useDeprecatedSynchronousErrorHandling?function I5(e){or.useDeprecatedSynchronousErrorHandling&&ar&&(ar.errorThrown=!0,ar.error=e)}(e):Rh(e)}function Yc(e,t){const{onStoppedNotification:n}=or;n&&go.setTimeout(()=>n(e,t))}const F5={closed:!0,next:Vh,error:function O5(e){throw e},complete:Vh},Jc="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xc(e){return e}let Ke=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function R5(e){return e&&e instanceof Kc||function L5(e){return e&&z(e.next)&&z(e.error)&&z(e.complete)}(e)&&Tr(e)}(n)?n:new Bi(n,r,i);return mo(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Hh(r))((i,s)=>{const o=new Bi({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Jc](){return this}pipe(...n){return function jh(e){return 0===e.length?Xc:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Hh(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function Hh(e){var t;return null!==(t=e??or.Promise)&&void 0!==t?t:Promise}const V5=Fn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $i=(()=>{class e extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new zh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new V5}next(n){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?qi:(this.currentObservers=null,s.push(n),new Se(()=>{this.currentObservers=null,sr(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ke;return n.source=this,n}}return e.create=(t,n)=>new zh(t,n),e})();class zh extends $i{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:qi}}function fn(e){return t=>{if(function j5(e){return z(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function yn(e,t,n,r,i){return new H5(e,t,n,r,i)}class H5 extends Kc{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ko(e,t){return fn((n,r)=>{let i=0;n.subscribe(yn(r,s=>{r.next(e.call(t,s,i++))}))})}function Ln(e){return this instanceof Ln?(this.v=e,this):new Ln(e)}function Uh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function rl(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Gh=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Zh(e){return z(e?.then)}function Wh(e){return z(e[Jc])}function Kh(e){return Symbol.asyncIterator&&z(e?.[Symbol.asyncIterator])}function Qh(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Yh=function c3(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Jh(e){return z(e?.[Yh])}function Xh(e){return function $h(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(f){return new Promise(function(y,g){s.push([p,f,y,g])>1||a(p,f)})})}function a(p,f){try{!function l(p){p.value instanceof Ln?Promise.resolve(p.value.v).then(u,d):h(s[0][2],p)}(r[p](f))}catch(y){h(s[0][3],y)}}function u(p){a("next",p)}function d(p){a("throw",p)}function h(p,f){p(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Ln(n.read());if(i)return yield Ln(void 0);yield yield Ln(r)}}finally{n.releaseLock()}})}function e2(e){return z(e?.getReader)}function Qt(e){if(e instanceof Ke)return e;if(null!=e){if(Wh(e))return function l3(e){return new Ke(t=>{const n=e[Jc]();if(z(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Gh(e))return function u3(e){return new Ke(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Zh(e))return function d3(e){return new Ke(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Rh)})}(e);if(Kh(e))return t2(e);if(Jh(e))return function h3(e){return new Ke(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(e2(e))return function p3(e){return t2(Xh(e))}(e)}throw Qh(e)}function t2(e){return new Ke(t=>{(function f3(e,t){var n,r,i,s;return function qh(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Uh(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Rn(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function il(e,t,n=1/0){return z(t)?il((r,i)=>ko((s,o)=>t(r,s,i,o))(Qt(e(r,i))),n):("number"==typeof t&&(n=t),fn((r,i)=>function y3(e,t,n,r,i,s,o,a){const l=[];let u=0,d=0,h=!1;const p=()=>{h&&!l.length&&!u&&t.complete()},f=g=>u<r?y(g):l.push(g),y=g=>{s&&t.next(g),u++;let v=!1;Qt(n(g,d++)).subscribe(yn(t,k=>{i?.(k),s?f(k):t.next(k)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;l.length&&u<r;){const k=l.shift();o?Rn(t,o,()=>y(k)):y(k)}p()}catch(k){t.error(k)}}))};return e.subscribe(yn(t,f,()=>{h=!0,p()})),()=>{a?.()}}(r,i,e,n)))}const n2=new Ke(e=>e.complete());function sl(e){return e[e.length-1]}function r2(e){return function v3(e){return e&&z(e.schedule)}(sl(e))?e.pop():void 0}function i2(e,t=0){return fn((n,r)=>{n.subscribe(yn(r,i=>Rn(r,e,()=>r.next(i),t),()=>Rn(r,e,()=>r.complete(),t),i=>Rn(r,e,()=>r.error(i),t)))})}function s2(e,t=0){return fn((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function o2(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ke(n=>{Rn(n,t,()=>{const r=e[Symbol.asyncIterator]();Rn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Mo(e,t){return t?function D3(e,t){if(null!=e){if(Wh(e))return function w3(e,t){return Qt(e).pipe(s2(t),i2(t))}(e,t);if(Gh(e))return function x3(e,t){return new Ke(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Zh(e))return function _3(e,t){return Qt(e).pipe(s2(t),i2(t))}(e,t);if(Kh(e))return o2(e,t);if(Jh(e))return function b3(e,t){return new Ke(n=>{let r;return Rn(n,t,()=>{r=e[Yh](),Rn(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}(e,t);if(e2(e))return function C3(e,t){return o2(Xh(e),t)}(e,t)}throw Qh(e)}(e,t):Qt(e)}class a2 extends $i{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function c2(...e){return Mo(e,r2(e))}function l2(e={}){const{connector:t=(()=>new $i),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,u=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},f=()=>{p(),o=l=void 0,d=h=!1},y=()=>{const g=o;f(),g?.unsubscribe()};return fn((g,v)=>{u++,!h&&!d&&p();const k=l=l??t();v.add(()=>{u--,0===u&&!h&&!d&&(a=ol(y,i))}),k.subscribe(v),!o&&u>0&&(o=new Bi({next:m=>k.next(m),error:m=>{h=!0,p(),a=ol(f,n,m),k.error(m)},complete:()=>{d=!0,p(),a=ol(f,r),k.complete()}}),Qt(g).subscribe(o))})(s)}}function ol(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Bi({next:()=>{r.unsubscribe(),e()}});return Qt(t(...n)).subscribe(r)}function u2(e,t=Xc){return e=e??A3,fn((n,r)=>{let i,s=!0;n.subscribe(yn(r,o=>{const a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}function A3(e,t){return e===t}function te(e){for(let t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function wo(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ae(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ae).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function al(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const T3=te({__forward_ref__:te});function ae(e){return e.__forward_ref__=ae,e.toString=function(){return Ae(this())},e}function O(e){return cl(e)?e():e}function cl(e){return"function"==typeof e&&e.hasOwnProperty(T3)&&e.__forward_ref__===ae}function ll(e){return e&&!!e.\u0275providers}class w extends Error{constructor(t,n){super(function _o(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function F(e){return"string"==typeof e?e:null==e?"":String(e)}function ul(e,t){throw new w(-201,!1)}function Et(e,t){null==e&&function P(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function B(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function St(e){return{providers:e.providers||[],imports:e.imports||[]}}function xo(e){return h2(e,Co)||h2(e,p2)}function h2(e,t){return e.hasOwnProperty(t)?e[t]:null}function bo(e){return e&&(e.hasOwnProperty(dl)||e.hasOwnProperty(R3))?e[dl]:null}const Co=te({\u0275prov:te}),dl=te({\u0275inj:te}),p2=te({ngInjectableDef:te}),R3=te({ngInjectorDef:te});var $=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}($||{});let hl;function st(e){const t=hl;return hl=e,t}function y2(e,t,n){const r=xo(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==t?t:void ul(Ae(e))}const ce=globalThis,Ui={},ml="__NG_DI_FLAG__",Do="ngTempTokenPath",H3=/\n/gm,m2="__source";let Ir;function Vn(e){const t=Ir;return Ir=e,t}function B3(e,t=$.Default){if(void 0===Ir)throw new w(-203,!1);return null===Ir?y2(e,void 0,t):Ir.get(e,t&$.Optional?null:void 0,t)}function R(e,t=$.Default){return(function f2(){return hl}()||B3)(O(e),t)}function se(e,t=$.Default){return R(e,Eo(t))}function Eo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vl(e){const t=[];for(let n=0;n<e.length;n++){const r=O(e[n]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],l=$3(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(R(i,s))}else t.push(R(r))}return t}function Gi(e,t){return e[ml]=t,e.prototype[ml]=t,e}function $3(e){return e[ml]}function gn(e){return{toString:e}.toString()}var So=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(So||{}),At=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(At||{});const Yt={},K=[],Ao=te({\u0275cmp:te}),kl=te({\u0275dir:te}),Ml=te({\u0275pipe:te}),k2=te({\u0275mod:te}),mn=te({\u0275fac:te}),Zi=te({__NG_ELEMENT_ID__:te}),M2=te({__NG_ENV_ID__:te});function w2(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function wl(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];x2(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function _2(e){return 3===e||4===e||6===e}function x2(e){return 64===e.charCodeAt(0)}function Wi(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||b2(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function b2(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const C2="ng-template";function Z3(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(n&&"class"===s&&-1!==w2(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function D2(e){return 4===e.type&&e.value!==C2}function W3(e,t,n){return t===(4!==e.type||n?e.value:C2)}function K3(e,t,n){let r=4;const i=e.attrs||[],s=function J3(e){for(let t=0;t<e.length;t++)if(_2(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!W3(e,l,n)||""===l&&1===t.length){if(jt(r))return!1;o=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!Z3(e.attrs,u,n)){if(jt(r))return!1;o=!0}continue}const h=Q3(8&r?"class":l,i,D2(e),n);if(-1===h){if(jt(r))return!1;o=!0;continue}if(""!==u){let p;p=h>s?"":i[h+1].toLowerCase();const f=8&r?p:null;if(f&&-1!==w2(f,u,0)||2&r&&u!==p){if(jt(r))return!1;o=!0}}}}else{if(!o&&!jt(r)&&!jt(l))return!1;if(o&&jt(l))continue;o=!1,r=l|1&r}}return jt(r)||o}function jt(e){return 0==(1&e)}function Q3(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function X3(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function E2(e,t,n=!1){for(let r=0;r<t.length;r++)if(K3(e,t[r],n))return!0;return!1}function eM(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function S2(e,t){return e?":not("+t.trim()+")":t}function tM(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!jt(o)&&(t+=S2(s,i),i=""),r=o,s=s||!jt(r);n++}return""!==i&&(t+=S2(s,i)),t}function To(e){return gn(()=>{const t=T2(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===So.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||At.Emulated,styles:e.styles||K,_:null,schemas:e.schemas||null,tView:null,id:""};I2(n);const r=e.dependencies;return n.directiveDefs=Io(r,!1),n.pipeDefs=Io(r,!0),n.id=function lM(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function sM(e){return U(e)||Oe(e)}function oM(e){return null!==e}function Ht(e){return gn(()=>({type:e.type,bootstrap:e.bootstrap||K,declarations:e.declarations||K,imports:e.imports||K,exports:e.exports||K,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function A2(e,t){if(null==e)return Yt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function V(e){return gn(()=>{const t=T2(e);return I2(t),t})}function ot(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function U(e){return e[Ao]||null}function Oe(e){return e[kl]||null}function Qe(e){return e[Ml]||null}function T2(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Yt,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||K,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:A2(e.inputs,t),outputs:A2(e.outputs)}}function I2(e){e.features?.forEach(t=>t(e))}function Io(e,t){if(!e)return null;const n=t?Qe:sM;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(oM)}const _e=0,D=1,H=2,ye=3,zt=4,Qi=5,je=6,Pr=7,be=8,jn=9,Nr=10,L=11,Yi=12,P2=13,Or=14,Ce=15,Ji=16,Fr=17,Jt=18,Xi=19,N2=20,Hn=21,vn=22,es=23,ts=24,q=25,_l=1,O2=2,Xt=7,Lr=9,Fe=11;function at(e){return Array.isArray(e)&&"object"==typeof e[_l]}function Ye(e){return Array.isArray(e)&&!0===e[_l]}function xl(e){return 0!=(4&e.flags)}function lr(e){return e.componentOffset>-1}function No(e){return 1==(1&e.flags)}function qt(e){return!!e.template}function bl(e){return 0!=(512&e[H])}function ur(e,t){return e.hasOwnProperty(mn)?e[mn]:null}let Le=null,Oo=!1;function Tt(e){const t=Le;return Le=e,t}const R2={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function j2(e){if(!rs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!q2(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function z2(e){e.dirty=!0,function H2(e){if(void 0===e.liveConsumerNode)return;const t=Oo;Oo=!0;try{for(const n of e.liveConsumerNode)n.dirty||z2(n)}finally{Oo=t}}(e),e.consumerMarkedDirty?.(e)}function Dl(e){return e&&(e.nextProducerIndex=0),Tt(e)}function El(e,t){if(Tt(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(rs(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Fo(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function q2(e){Rr(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(j2(n),r!==n.version))return!0}return!1}function B2(e){if(Rr(e),rs(e))for(let t=0;t<e.producerNode.length;t++)Fo(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Fo(e,t){if(function U2(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Rr(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Fo(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Rr(i),i.producerIndexOfThis[r]=t}}function rs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Rr(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let G2=null;const Q2=()=>{},_M=(()=>({...R2,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Q2}))();class xM{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function en(){return Y2}function Y2(e){return e.type.prototype.ngOnChanges&&(e.setInput=CM),bM}function bM(){const e=X2(this),t=e?.current;if(t){const n=e.previous;if(n===Yt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function CM(e,t,n,r){const i=this.declaredInputs[n],s=X2(e)||function DM(e,t){return e[J2]=t}(e,{previous:Yt,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new xM(l&&l.currentValue,t,a===Yt),e[r]=t}en.ngInherit=!0;const J2="__ngSimpleChanges__";function X2(e){return e[J2]||null}const tn=function(e,t,n){};function le(e){for(;Array.isArray(e);)e=e[_e];return e}function Lo(e,t){return le(t[e])}function ct(e,t){return le(t[e.index])}function np(e,t){return e.data[t]}function Vr(e,t){return e[t]}function mt(e,t){const n=t[e];return at(n)?n:n[_e]}function qn(e,t){return null==t?null:e[t]}function rp(e){e[Fr]=0}function PM(e){1024&e[H]||(e[H]|=1024,sp(e,1))}function ip(e){1024&e[H]&&(e[H]&=-1025,sp(e,-1))}function sp(e,t){let n=e[ye];if(null===n)return;n[Qi]+=t;let r=n;for(n=n[ye];null!==n&&(1===t&&1===r[Qi]||-1===t&&0===r[Qi]);)n[Qi]+=t,r=n,n=n[ye]}const N={lFrame:gp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cp(){return N.bindingsEnabled}function jr(){return null!==N.skipHydrationRootTNode}function _(){return N.lFrame.lView}function G(){return N.lFrame.tView}function Hr(e){return N.lFrame.contextLView=e,e[be]}function zr(e){return N.lFrame.contextLView=null,e}function Re(){let e=lp();for(;null!==e&&64===e.type;)e=e.parent;return e}function lp(){return N.lFrame.currentTNode}function nn(e,t){const n=N.lFrame;n.currentTNode=e,n.isParent=t}function Pl(){return N.lFrame.isParent}function Nl(){N.lFrame.isParent=!1}function Je(){const e=N.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function qr(){return N.lFrame.bindingIndex++}function $M(e,t){const n=N.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ol(t)}function Ol(e){N.lFrame.currentDirectiveIndex=e}function pp(){return N.lFrame.currentQueryIndex}function Ll(e){N.lFrame.currentQueryIndex=e}function GM(e){const t=e[D];return 2===t.type?t.declTNode:1===t.type?e[je]:null}function fp(e,t,n){if(n&$.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&$.Host||(i=GM(s),null===i||(s=s[Or],10&i.type))););if(null===i)return!1;t=i,e=s}const r=N.lFrame=yp();return r.currentTNode=t,r.lView=e,!0}function Rl(e){const t=yp(),n=e[D];N.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function yp(){const e=N.lFrame,t=null===e?null:e.child;return null===t?gp(e):t}function gp(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function mp(){const e=N.lFrame;return N.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const vp=mp;function Vl(){const e=mp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xe(){return N.lFrame.selectedIndex}function dr(e){N.lFrame.selectedIndex=e}let Mp=!0;function Ro(){return Mp}function Bn(e){Mp=e}function Vo(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=d&&(e.destroyHooks??=[]).push(n,d)}}function jo(e,t,n){wp(e,t,3,n)}function Ho(e,t,n,r){(3&e[H])===n&&wp(e,t,n,r)}function jl(e,t){let n=e[H];(3&n)===t&&(n&=8191,n+=1,e[H]=n)}function wp(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[Fr]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[Fr]+=65536),(a<s||-1==s)&&(e6(e,n,t,l),e[Fr]=(4294901760&e[Fr])+l+2),l++}function _p(e,t){tn(4,e,t);const n=Tt(null);try{t.call(e)}finally{Tt(n),tn(5,e,t)}}function e6(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];i?e[H]>>13<e[Fr]>>16&&(3&e[H])===t&&(e[H]+=8192,_p(a,s)):_p(a,s)}const Br=-1;class ss{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function zl(e){return e!==Br}function os(e){return 32767&e}function as(e,t){let n=function i6(e){return e>>16}(e),r=t;for(;n>0;)r=r[Or],n--;return r}let ql=!0;function zo(e){const t=ql;return ql=e,t}const xp=255,bp=5;let s6=0;const rn={};function qo(e,t){const n=Cp(e,t);if(-1!==n)return n;const r=t[D];r.firstCreatePass&&(e.injectorIndex=t.length,Bl(r.data,e),Bl(t,null),Bl(r.blueprint,null));const i=Bo(e,t),s=e.injectorIndex;if(zl(i)){const o=os(i),a=as(i,t),l=a[D].data;for(let u=0;u<8;u++)t[s+u]=a[o+u]|l[o+u]}return t[s+8]=i,s}function Bl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Cp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Pp(i),null===r)return Br;if(n++,i=i[Or],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Br}function $l(e,t,n){!function o6(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zi)&&(r=n[Zi]),null==r&&(r=n[Zi]=s6++);const i=r&xp;t.data[e+(i>>bp)]|=1<<i}(e,t,n)}function Dp(e,t,n){if(n&$.Optional||void 0!==e)return e;ul()}function Ep(e,t,n,r){if(n&$.Optional&&void 0===r&&(r=null),!(n&($.Self|$.Host))){const i=e[jn],s=st(void 0);try{return i?i.get(t,r,n&$.Optional):y2(t,r,n&$.Optional)}finally{st(s)}}return Dp(r,0,n)}function Sp(e,t,n,r=$.Default,i){if(null!==e){if(2048&t[H]&&!(r&$.Self)){const o=function h6(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[H]&&!(512&o[H]);){const a=Ap(s,o,n,r|$.Self,rn);if(a!==rn)return a;let l=s.parent;if(!l){const u=o[N2];if(u){const d=u.get(n,rn,r);if(d!==rn)return d}l=Pp(o),o=o[Or]}s=l}return i}(e,t,n,r,rn);if(o!==rn)return o}const s=Ap(e,t,n,r,rn);if(s!==rn)return s}return Ep(t,n,r,i)}function Ap(e,t,n,r,i){const s=function l6(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Zi)?e[Zi]:void 0;return"number"==typeof t?t>=0?t&xp:d6:t}(n);if("function"==typeof s){if(!fp(t,e,r))return r&$.Host?Dp(i,0,r):Ep(t,n,r,i);try{let o;if(o=s(r),null!=o||r&$.Optional)return o;ul()}finally{vp()}}else if("number"==typeof s){let o=null,a=Cp(e,t),l=Br,u=r&$.Host?t[Ce][je]:null;for((-1===a||r&$.SkipSelf)&&(l=-1===a?Bo(e,t):t[a+8],l!==Br&&Ip(r,!1)?(o=t[D],a=os(l),t=as(l,t)):a=-1);-1!==a;){const d=t[D];if(Tp(s,a,d.data)){const h=c6(a,t,n,o,r,u);if(h!==rn)return h}l=t[a+8],l!==Br&&Ip(r,t[D].data[a+8]===u)&&Tp(s,a,t)?(o=d,a=os(l),t=as(l,t)):a=-1}}return i}function c6(e,t,n,r,i,s){const o=t[D],a=o.data[e+8],d=$o(a,o,n,null==r?lr(a)&&ql:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==d?hr(t,o,d,a):rn}function $o(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,d=s>>20,p=i?a+d:e.directiveEnd;for(let f=r?a:a+d;f<p;f++){const y=o[f];if(f<l&&n===y||f>=l&&y.type===n)return f}if(i){const f=o[l];if(f&&qt(f)&&f.type===n)return l}return null}function hr(e,t,n,r){let i=e[n];const s=t.data;if(function t6(e){return e instanceof ss}(i)){const o=i;o.resolving&&function I3(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new w(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():F(e)}(s[n]));const a=zo(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?st(o.injectImpl):null;fp(e,r,$.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function XM(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=Y2(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==u&&st(u),zo(a),o.resolving=!1,vp()}}return i}function Tp(e,t,n){return!!(n[t+(e>>bp)]&1<<e)}function Ip(e,t){return!(e&$.Self||e&$.Host&&t)}class et{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Sp(this._tNode,this._lView,t,Eo(r),n)}}function d6(){return new et(Re(),_())}function Ul(e){return cl(e)?()=>{const t=Ul(O(e));return t&&t()}:ur(e)}function Pp(e){const t=e[D],n=t.type;return 2===n?t.declTNode:1===n?e[je]:null}const Ur="__parameters__";function Zr(e,t,n){return gn(()=>{const r=function Zl(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,d){const h=l.hasOwnProperty(Ur)?l[Ur]:Object.defineProperty(l,Ur,{value:[]})[Ur];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Kr(e,t){e.forEach(n=>Array.isArray(n)?Kr(n,t):t(n))}function Op(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Uo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function us(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function vt(e,t,n){let r=Qr(e,t);return r>=0?e[1|r]=n:(r=~r,function k6(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Wl(e,t){const n=Qr(e,t);if(n>=0)return e[1|n]}function Qr(e,t){return function Fp(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const Zo=Gi(Zr("Optional"),8),Ql=Gi(Zr("SkipSelf"),4);function Jo(e){return 128==(128&e.flags)}var $n=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}($n||{});const H6=/^>|^->|<!--|-->|--!>|<!-$/g,z6=/(<|>)/g,q6="\u200b$1\u200b";const e1=new Map;let B6=0;const n1="__ngContext__";function ze(e,t){at(t)?(e[n1]=t[Xi],function U6(e){e1.set(e[Xi],e)}(t)):e[n1]=t}let r1;function i1(e,t){return r1(e,t)}function ps(e){const t=e[ye];return Ye(t)?t[ye]:t}function tf(e){return rf(e[Yi])}function nf(e){return rf(e[zt])}function rf(e){for(;null!==e&&!Ye(e);)e=e[zt];return e}function Xr(e,t,n,r,i){if(null!=r){let s,o=!1;Ye(r)?s=r:at(r)&&(o=!0,r=r[_e]);const a=le(r);0===e&&null!==n?null==i?cf(t,n,a):pr(t,n,a,i||null,!0):1===e&&null!==n?pr(t,n,a,i||null,!0):2===e?function sa(e,t,n){const r=ra(e,t);r&&function u8(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function p8(e,t,n,r,i){const s=n[Xt];s!==le(n)&&Xr(t,e,r,s,i);for(let a=Fe;a<n.length;a++){const l=n[a];ys(l[D],l,e,t,r,s)}}(t,e,s,n,i)}}function s1(e,t){return e.createComment(function Zp(e){return e.replace(H6,t=>t.replace(z6,q6))}(t))}function ta(e,t,n){return e.createElement(t,n)}function of(e,t){const n=e[Lr],r=n.indexOf(t);ip(t),n.splice(r,1)}function na(e,t){if(e.length<=Fe)return;const n=Fe+t,r=e[n];if(r){const i=r[Ji];null!==i&&i!==e&&of(i,r),t>0&&(e[n-1][zt]=r[zt]);const s=Uo(e,Fe+t);!function n8(e,t){ys(e,t,t[L],2,null,null),t[_e]=null,t[je]=null}(r[D],r);const o=s[Jt];null!==o&&o.detachView(s[D]),r[ye]=null,r[zt]=null,r[H]&=-129}return r}function o1(e,t){if(!(256&t[H])){const n=t[L];t[es]&&B2(t[es]),t[ts]&&B2(t[ts]),n.destroyNode&&ys(e,t,n,3,null,null),function s8(e){let t=e[Yi];if(!t)return a1(e[D],e);for(;t;){let n=null;if(at(t))n=t[Yi];else{const r=t[Fe];r&&(n=r)}if(!n){for(;t&&!t[zt]&&t!==e;)at(t)&&a1(t[D],t),t=t[ye];null===t&&(t=e),at(t)&&a1(t[D],t),n=t&&t[zt]}t=n}}(t)}}function a1(e,t){if(!(256&t[H])){t[H]&=-129,t[H]|=256,function l8(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof ss)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];tn(4,a,l);try{l.call(a)}finally{tn(5,a,l)}}else{tn(4,i,s);try{s.call(i)}finally{tn(5,i,s)}}}}}(e,t),function c8(e,t){const n=e.cleanup,r=t[Pr];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Pr]=null);const i=t[Hn];if(null!==i){t[Hn]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[D].type&&t[L].destroy();const n=t[Ji];if(null!==n&&Ye(t[ye])){n!==t[ye]&&of(n,t);const r=t[Jt];null!==r&&r.detachView(e)}!function G6(e){e1.delete(e[Xi])}(t)}}function c1(e,t,n){return function af(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[_e];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===At.None||s===At.Emulated)return null}return ct(r,n)}}(e,t.parent,n)}function pr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function cf(e,t,n){e.appendChild(t,n)}function lf(e,t,n,r,i){null!==r?pr(e,t,n,r,i):cf(e,t,n)}function ra(e,t){return e.parentNode(t)}function uf(e,t,n){return hf(e,t,n)}let l1,p1,hf=function df(e,t,n){return 40&e.type?ct(e,n):null};function ia(e,t,n,r){const i=c1(e,r,t),s=t[L],a=uf(r.parent||t[je],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)lf(s,i,n[l],a,!1);else lf(s,i,n,a,!1);void 0!==l1&&l1(s,r,t,n,i)}function fs(e,t){if(null!==t){const n=t.type;if(3&n)return ct(t,e);if(4&n)return u1(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return fs(e,r);{const i=e[t.index];return Ye(i)?u1(-1,i):le(i)}}if(32&n)return i1(t,e)()||le(e[t.index]);{const r=ff(e,t);return null!==r?Array.isArray(r)?r[0]:fs(ps(e[Ce]),r):fs(e,t.next)}}return null}function ff(e,t){return null!==t?e[Ce][je].projection[t.projection]:null}function u1(e,t){const n=Fe+e+1;if(n<t.length){const r=t[n],i=r[D].firstChild;if(null!==i)return fs(r,i)}return t[Xt]}function d1(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&ze(le(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)d1(e,t,n.child,r,i,s,!1),Xr(t,e,i,a,s);else if(32&l){const u=i1(n,r);let d;for(;d=u();)Xr(t,e,i,d,s);Xr(t,e,i,a,s)}else 16&l?gf(e,t,r,n,i,s):Xr(t,e,i,a,s);n=o?n.projectionNext:n.next}}function ys(e,t,n,r,i,s){d1(n,r,e.firstChild,t,i,s,!1)}function gf(e,t,n,r,i,s){const o=n[Ce],l=o[je].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Xr(t,e,i,l[u],s);else{let u=l;const d=o[ye];Jo(r)&&(u.flags|=128),d1(e,t,u,d,i,s,!0)}}function mf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function vf(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&wl(e,t,r),null!==i&&mf(e,t,i),null!==s&&function y8(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class _f{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class A{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const la=new A("ENVIRONMENT_INITIALIZER"),If=new A("INJECTOR",-1),Pf=new A("INJECTOR_DEF_TYPES");class k1{get(t,n=Ui){if(n===Ui){const r=new Error(`NullInjectorError: No provider for ${Ae(t)}!`);throw r.name="NullInjectorError",r}return n}}function B8(...e){return{\u0275providers:Of(0,e),\u0275fromNgModule:!0}}function Of(e,...t){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Kr(t,o=>{const a=o;ua(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Ff(i,s),n}function Ff(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];M1(i,s=>{t(s,r)})}}function ua(e,t,n,r){if(!(e=O(e)))return!1;let i=null,s=bo(e);const o=!s&&U(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=bo(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)ua(u,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Kr(s.imports,d=>{ua(d,t,n,r)&&(u||=[],u.push(d))})}finally{}void 0!==u&&Ff(u,t)}if(!a){const u=ur(i)||(()=>new i);t({provide:i,useFactory:u,deps:K},i),t({provide:Pf,useValue:i,multi:!0},i),t({provide:la,useValue:()=>R(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const u=e;M1(l,d=>{t(d,u)})}}}return i!==e&&void 0!==e.providers}function M1(e,t){for(let n of e)ll(n)&&(n=n.\u0275providers),Array.isArray(n)?M1(n,t):t(n)}const $8=te({provide:String,useValue:te});function w1(e){return null!==e&&"object"==typeof e&&$8 in e}function fr(e){return"function"==typeof e}const _1=new A("Set Injector scope."),da={},G8={};let x1;function ha(){return void 0===x1&&(x1=new k1),x1}class _n{}class pa extends _n{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,C1(t,o=>this.processProvider(o)),this.records.set(If,ri(void 0,this)),i.has("environment")&&this.records.set(_n,ri(void 0,this));const s=this.records.get(_1);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Pf.multi,K,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Vn(this),r=st(void 0);try{return t()}finally{Vn(n),st(r)}}get(t,n=Ui,r=$.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(M2))return t[M2](this);r=Eo(r);const s=Vn(this),o=st(void 0);try{if(!(r&$.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function Y8(e){return"function"==typeof e||"object"==typeof e&&e instanceof A}(t)&&xo(t);l=u&&this.injectableDefInScope(u)?ri(b1(t),da):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&$.Self?ha():this.parent).get(t,n=r&$.Optional&&n===Ui?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Do]=a[Do]||[]).unshift(Ae(t)),s)throw a;return function U3(e,t,n,r){const i=e[Do];throw t[m2]&&i.unshift(t[m2]),e.message=function G3(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Ae(t);if(Array.isArray(t))i=t.map(Ae).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ae(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(H3,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Do]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{st(o),Vn(s)}}resolveInjectorInitializers(){const t=Vn(this),n=st(void 0);try{const i=this.get(la.multi,K,$.Self);for(const s of i)s()}finally{Vn(t),st(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ae(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(t){let n=fr(t=O(t))?t:O(t&&t.provide);const r=function W8(e){return w1(e)?ri(void 0,e.useValue):ri(Vf(e),da)}(t);if(fr(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ri(void 0,da,!0),i.factory=()=>vl(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===da&&(n.value=G8,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Q8(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=O(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function b1(e){const t=xo(e),n=null!==t?t.factory:ur(e);if(null!==n)return n;if(e instanceof A)throw new w(204,!1);if(e instanceof Function)return function Z8(e){const t=e.length;if(t>0)throw us(t,"?"),new w(204,!1);const n=function L3(e){return e&&(e[Co]||e[p2])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new w(204,!1)}function Vf(e,t,n){let r;if(fr(e)){const i=O(e);return ur(i)||b1(i)}if(w1(e))r=()=>O(e.useValue);else if(function Rf(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...vl(e.deps||[]));else if(function Lf(e){return!(!e||!e.useExisting)}(e))r=()=>R(O(e.useExisting));else{const i=O(e&&(e.useClass||e.provide));if(!function K8(e){return!!e.deps}(e))return ur(i)||b1(i);r=()=>new i(...vl(e.deps))}return r}function ri(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function C1(e,t){for(const n of e)Array.isArray(n)?C1(n,t):n&&ll(n)?C1(n.\u0275providers,t):t(n)}const fa=new A("AppId",{providedIn:"root",factory:()=>J8}),J8="ng",jf=new A("Platform Initializer"),ii=new A("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hf=new A("AnimationModuleType"),zf=new A("CSP nonce",{providedIn:"root",factory:()=>function ti(){if(void 0!==p1)return p1;if(typeof document<"u")return document;throw new w(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qf=(e,t,n)=>null;function N1(e,t,n=!1){return qf(e,t,n)}class cw{}class Uf{}class uw{resolveComponentFactory(t){throw function lw(e){const t=Error(`No component factory found for ${Ae(e)}.`);return t.ngComponent=e,t}(t)}}let Ma=(()=>{class e{static#e=this.NULL=new uw}return e})();function dw(){return ai(Re(),_())}function ai(e,t){return new kt(ct(e,t))}let kt=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=dw}return e})();function hw(e){return e instanceof kt?e.nativeElement:e}class ws{}let Gn=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function pw(){const e=_(),n=mt(Re().index,e);return(at(n)?n:e)[L]}()}return e})(),fw=(()=>{class e{static#e=this.\u0275prov=B({token:e,providedIn:"root",factory:()=>null})}return e})();class wa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const yw=new wa("16.2.8"),L1={};function Qf(e,t=null,n=null,r){const i=Yf(e,t,n,r);return i.resolveInjectorInitializers(),i}function Yf(e,t=null,n=null,r,i=new Set){const s=[n||K,B8(e)];return r=r||("object"==typeof e?void 0:Ae(e)),new pa(s,t||ha(),r||null,i)}let Bt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Ui;static#t=this.NULL=new k1;static create(n,r){if(Array.isArray(n))return Qf({name:""},r,n,"");{const i=n.name??"";return Qf({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=B({token:e,providedIn:"any",factory:()=>R(If)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function V1(e){return e.ngOriginalError}class xn{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&V1(t);for(;n&&V1(n);)n=V1(n);return n||null}}function H1(e){return t=>{setTimeout(e,void 0,t)}}const qe=class _w extends $i{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=H1(s),i&&(i=H1(i)),o&&(o=H1(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof Se&&t.add(a),a}};function Xf(...e){}class ge{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function xw(){const e="function"==typeof ce.requestAnimationFrame;let t=ce[e?"requestAnimationFrame":"setTimeout"],n=ce[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Dw(e){const t=()=>{!function Cw(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ce,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,q1(e),e.isCheckStableRunning=!0,z1(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),q1(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function Sw(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return e0(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),t0(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return e0(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),t0(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,q1(e),z1(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ge.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(ge.isInAngularZone())throw new w(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,bw,Xf,Xf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const bw={};function z1(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function q1(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function e0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function t0(e){e._nesting--,z1(e)}class Ew{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const n0=new A("",{providedIn:"root",factory:r0});function r0(){const e=se(ge);let t=!0;return function E3(...e){const t=r2(e),n=function M3(e,t){return"number"==typeof sl(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Qt(r[0]):function g3(e=1/0){return il(Xc,e)}(n)(Mo(r,t)):n2}(new Ke(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Ke(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const o=e.onUnstable.subscribe(()=>{ge.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(l2()))}let B1=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e})}return e})();function _s(e){for(;e;){e[H]|=64;const t=ps(e);if(bl(e)&&!t)return e;e=t}return null}const l0=new A("",{providedIn:"root",factory:()=>!1});let xa=null;function p0(e,t){return e[t]??g0()}function f0(e,t){const n=g0();n.producerNode?.length&&(e[t]=xa,n.lView=e,xa=y0())}const Vw={...R2,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{_s(e.lView)},lView:null};function y0(){return Object.create(Vw)}function g0(){return xa??=y0(),xa}const j={};function he(e){m0(G(),_(),Xe()+e,!1)}function m0(e,t,n,r){if(!r)if(3==(3&t[H])){const s=e.preOrderCheckHooks;null!==s&&jo(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Ho(t,s,0,n)}dr(n)}function x(e,t=$.Default){const n=_();return null===n?R(e,t):Sp(Re(),n,O(e),t)}function ba(e,t,n,r,i,s,o,a,l,u,d){const h=t.blueprint.slice();return h[_e]=i,h[H]=140|r,(null!==u||e&&2048&e[H])&&(h[H]|=2048),rp(h),h[ye]=h[Or]=e,h[be]=n,h[Nr]=o||e&&e[Nr],h[L]=a||e&&e[L],h[jn]=l||e&&e[jn]||null,h[je]=s,h[Xi]=function $6(){return B6++}(),h[vn]=d,h[N2]=u,h[Ce]=2==t.type?e[Ce]:h,h}function ui(e,t,n,r,i){let s=e.data[t];if(null===s)s=function $1(e,t,n,r,i){const s=lp(),o=Pl(),l=e.data[t]=function Zw(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return jr()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,r,i),function BM(){return N.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function is(){const e=N.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return nn(s,!0),s}function xs(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function v0(e,t,n,r,i){const s=p0(t,es),o=Xe(),a=2&r;try{dr(-1),a&&t.length>q&&m0(e,t,q,!1),tn(a?2:0,i);const u=a?s:null,d=Dl(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{El(u,d)}}finally{a&&null===t[es]&&f0(t,es),dr(o),tn(a?3:1,i)}}function U1(e,t,n){if(xl(t)){const r=Tt(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Tt(r)}}}function G1(e,t,n){cp()&&(function e_(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;lr(n)&&function a_(e,t,n){const r=ct(t,e),i=k0(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Ca(e,ba(e,i,null,o,r,t,null,e[Nr].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||qo(n,t),ze(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],u=hr(t,e,a,n);ze(u,t),null!==o&&c_(0,a-i,u,l,0,o),qt(l)&&(mt(n.index,t)[be]=hr(t,e,a,n))}}(e,t,n,ct(n,t)),64==(64&n.flags)&&b0(e,t,n))}function Z1(e,t,n=ct){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function k0(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=W1(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function W1(e,t,n,r,i,s,o,a,l,u,d){const h=q+r,p=h+i,f=function zw(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:j);return n}(h,p),y="function"==typeof u?u():u;return f[D]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}let M0=e=>null;function w0(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?_0(n,t,i,s):r.hasOwnProperty(i)&&_0(n,t,r[i],s)}return n}function _0(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function K1(e,t,n,r){if(cp()){const i=null===r?null:{"":-1},s=function n_(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(E2(t,o.selectors,!1))if(r||(r=[]),qt(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Q1(e,t,a.length)}else r.unshift(o),Q1(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&x0(e,t,n,o,i,a),i&&function r_(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new w(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Wi(n.mergedAttrs,n.attrs)}function x0(e,t,n,r,i,s){for(let u=0;u<r.length;u++)$l(qo(n,t),e,r[u].type);!function s_(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=xs(e,t,r.length,null);for(let u=0;u<r.length;u++){const d=r[u];n.mergedAttrs=Wi(n.mergedAttrs,d.hostAttrs),o_(e,n,t,l,d),i_(l,d,i),null!==d.contentQueries&&(n.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=64);const h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function Ww(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,u=null;for(let d=t.directiveStart;d<i;d++){const h=s[d],p=n?n.get(h):null,y=p?p.outputs:null;l=w0(h.inputs,d,l,p?p.inputs:null),u=w0(h.outputs,d,u,y);const g=null===l||null===o||D2(t)?null:l_(l,d,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,s)}function b0(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function UM(){return N.lFrame.currentDirectiveIndex}();try{dr(s);for(let a=r;a<i;a++){const l=e.data[a],u=t[a];Ol(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&t_(l,u)}}finally{dr(-1),Ol(o)}}function t_(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Q1(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function i_(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qt(t)&&(n[""]=e)}}function o_(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ur(i.type)),o=new ss(s,qt(i),x);e.blueprint[r]=o,n[r]=o,function Jw(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function Xw(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,xs(e,n,i.hostVars,j),i)}function c_(e,t,n,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)C0(r,n,o[a++],o[a++],o[a++])}function C0(e,t,n,r,i){const s=Tt(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Tt(s)}}function l_(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function D0(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function E0(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=e.data[s];Ll(n[r]),o.contentQueries(2,t[s],s)}}}function Ca(e,t){return e[Yi]?e[P2][zt]=t:e[Yi]=t,e[P2]=t,t}function J1(e,t,n){Ll(0);const r=Tt(null);try{t(e,n)}finally{Tt(r)}}function S0(e){return e[Pr]||(e[Pr]=[])}function A0(e){return e.cleanup||(e.cleanup=[])}function I0(e,t){const n=e[jn],r=n?n.get(xn,null):null;r&&r.handleError(t)}function X1(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];C0(e.data[o],t[o],r,a,i)}}function u_(e,t){const n=mt(t,e),r=n[D];!function d_(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[_e];null!==i&&null===n[vn]&&(n[vn]=N1(i,n[jn])),eu(r,n,n[be])}function eu(e,t,n){Rl(t);try{const r=e.viewQuery;null!==r&&J1(1,r,n);const i=e.template;null!==i&&v0(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&E0(e,t),e.staticViewQueries&&J1(2,e.viewQuery,n);const s=e.components;null!==s&&function h_(e,t){for(let n=0;n<t.length;n++)u_(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[H]&=-5,Vl()}}let P0=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function wM(e,t,n){const r=Object.create(_M);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>z2(r),run:()=>{if(r.dirty=!1,r.hasRun&&!q2(r))return;r.hasRun=!0;const o=Dl(r);try{r.cleanupFn(),r.cleanupFn=Q2,r.fn(i)}finally{El(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e})}return e})();function Da(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=al(i,a):2==s&&(r=al(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function bs(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(le(s)),Ye(s)&&N0(s,r);const o=n.type;if(8&o)bs(e,t,n.child,r);else if(32&o){const a=i1(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=ff(t,n);if(Array.isArray(a))r.push(...a);else{const l=ps(t[Ce]);bs(l[D],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function N0(e,t){for(let n=Fe;n<e.length;n++){const r=e[n],i=r[D].firstChild;null!==i&&bs(r[D],r,i,t)}e[Xt]!==e[_e]&&t.push(e[Xt])}function Ea(e,t,n,r=!0){const i=t[Nr],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{O0(e,t,e.template,n)}catch(l){throw r&&I0(t,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function O0(e,t,n,r){const i=t[H];if(256!=(256&i)){t[Nr].effectManager?.flush(),Rl(t);try{rp(t),function dp(e){return N.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&v0(e,t,n,2,r);const o=3==(3&i);if(o){const u=e.preOrderCheckHooks;null!==u&&jo(t,u,null)}else{const u=e.preOrderHooks;null!==u&&Ho(t,u,0,null),jl(t,0)}if(function y_(e){for(let t=tf(e);null!==t;t=nf(t)){if(!t[O2])continue;const n=t[Lr];for(let r=0;r<n.length;r++){PM(n[r])}}}(t),F0(t,2),null!==e.contentQueries&&E0(e,t),o){const u=e.contentCheckHooks;null!==u&&jo(t,u)}else{const u=e.contentHooks;null!==u&&Ho(t,u,1),jl(t,1)}!function Hw(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=p0(t,ts);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)dr(~s);else{const o=s,a=n[++i],l=n[++i];$M(a,o),r.dirty=!1;const u=Dl(r);try{l(2,t[o])}finally{El(r,u)}}}}finally{null===t[ts]&&f0(t,ts),dr(-1)}}(e,t);const a=e.components;null!==a&&R0(t,a,0);const l=e.viewQuery;if(null!==l&&J1(2,l,r),o){const u=e.viewCheckHooks;null!==u&&jo(t,u)}else{const u=e.viewHooks;null!==u&&Ho(t,u,2),jl(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[H]&=-73,ip(t)}finally{Vl()}}}function F0(e,t){for(let n=tf(e);null!==n;n=nf(n))for(let r=Fe;r<n.length;r++)L0(n[r],t)}function g_(e,t,n){L0(mt(t,e),n)}function L0(e,t){if(!function TM(e){return 128==(128&e[H])}(e))return;const n=e[D],r=e[H];if(80&r&&0===t||1024&r||2===t)O0(n,e,n.template,e[be]);else if(e[Qi]>0){F0(e,1);const i=n.components;null!==i&&R0(e,i,1)}}function R0(e,t,n){for(let r=0;r<t.length;r++)g_(e,t[r],n)}class Cs{get rootNodes(){const t=this._lView,n=t[D];return bs(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[be]}set context(t){this._lView[be]=t}get destroyed(){return 256==(256&this._lView[H])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ye];if(Ye(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(na(t,r),Uo(n,r))}this._attachedToViewContainer=!1}o1(this._lView[D],this._lView)}onDestroy(t){!function op(e,t){if(256==(256&e[H]))throw new w(911,!1);null===e[Hn]&&(e[Hn]=[]),e[Hn].push(t)}(this._lView,t)}markForCheck(){_s(this._cdRefInjectingView||this._lView)}detach(){this._lView[H]&=-129}reattach(){this._lView[H]|=128}detectChanges(){Ea(this._lView[D],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function i8(e,t){ys(e,t,t[L],2,null,null)}(this._lView[D],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t}}class m_ extends Cs{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ea(t[D],t,t[be],!1)}checkNoChanges(){}get context(){return null}}class V0 extends Ma{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=U(t);return new Ds(n,this.ngModule)}}function j0(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class k_{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Eo(r);const i=this.injector.get(t,L1,r);return i!==L1||n===L1?i:this.parentInjector.get(t,n,r)}}class Ds extends Uf{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=j0(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return j0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function nM(e){return e.map(tM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof _n?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new k_(t,s):t,a=o.get(ws,null);if(null===a)throw new w(407,!1);const h={rendererFactory:a,sanitizer:o.get(fw,null),effectManager:o.get(P0,null),afterRenderEventManager:o.get(B1,null)},p=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",y=r?function qw(e,t,n,r){const s=r.get(l0,!1)||n===At.ShadowDom,o=e.selectRootElement(t,s);return function Bw(e){M0(e)}(o),o}(p,r,this.componentDef.encapsulation,o):ta(p,f,function v_(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),k=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let m=null;null!==y&&(m=N1(y,o,!0));const b=W1(0,null,null,1,0,null,null,null,null,null,null),C=ba(null,b,null,k,null,null,h,p,o,null,m);let T,ie;Rl(C);try{const fe=this.componentDef;let Ze,Ct=null;fe.findHostDirectiveDefs?(Ze=[],Ct=new Map,fe.findHostDirectiveDefs(fe,Ze,Ct),Ze.push(fe)):Ze=[fe];const Kt=function w_(e,t){const n=e[D],r=q;return e[r]=t,ui(n,r,2,"#host",null)}(C,y),Gc=function __(e,t,n,r,i,s,o){const a=i[D];!function x_(e,t,n,r){for(const i of e)t.mergedAttrs=Wi(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Da(t,t.mergedAttrs,!0),null!==n&&vf(r,n,t))}(r,e,t,o);let l=null;null!==t&&(l=N1(t,i[jn]));const u=s.rendererFactory.createRenderer(t,n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const h=ba(i,k0(n),null,d,i[e.index],e,s,u,null,null,l);return a.firstCreatePass&&Q1(a,e,r.length-1),Ca(i,h),i[e.index]=h}(Kt,y,fe,Ze,C,h,p);ie=np(b,q),y&&function C_(e,t,n,r){if(r)wl(e,n,["ng-version",yw.full]);else{const{attrs:i,classes:s}=function rM(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!jt(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&wl(e,n,i),s&&s.length>0&&mf(e,n,s.join(" "))}}(p,fe,y,r),void 0!==n&&function D_(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(ie,this.ngContentSelectors,n),T=function b_(e,t,n,r,i,s){const o=Re(),a=i[D],l=ct(o,i);x0(a,i,o,n,null,r);for(let d=0;d<n.length;d++)ze(hr(i,a,o.directiveStart+d,o),i);b0(a,i,o),l&&ze(l,i);const u=hr(i,a,o.directiveStart+o.componentOffset,o);if(e[be]=i[be]=u,null!==s)for(const d of s)d(u,t);return U1(a,o,e),u}(Gc,fe,Ze,Ct,C,[E_]),eu(b,C,null)}finally{Vl()}return new M_(this.componentType,T,ai(ie,C),C,ie)}}class M_ extends cw{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new m_(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;X1(s[D],s,i,t,n),this.previousInputValues.set(t,n),_s(mt(this._tNode.index,s))}}get injector(){return new et(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function E_(){const e=Re();Vo(_()[D],e)}function ne(e){let t=function H0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(qt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const o=e;o.inputs=Sa(e.inputs),o.inputTransforms=Sa(e.inputTransforms),o.declaredInputs=Sa(e.declaredInputs),o.outputs=Sa(e.outputs);const a=i.hostBindings;a&&I_(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&A_(e,l),u&&T_(e,u),wo(e.inputs,i.inputs),wo(e.declaredInputs,i.declaredInputs),wo(e.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),wo(o.inputTransforms,i.inputTransforms)),qt(i)&&i.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===ne&&(n=!1)}}t=Object.getPrototypeOf(t)}!function S_(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Wi(i.hostAttrs,n=Wi(n,i.hostAttrs))}}(r)}function Sa(e){return e===Yt?{}:e===K?[]:e}function A_(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function T_(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,s)=>{t(r,i,s),n(r,i,s)}:t}function I_(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function Aa(e){return!!tu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function tu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function on(e,t,n){return e[t]=n}function Be(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function yr(e,t,n,r){const i=Be(e,t,n);return Be(e,t+1,r)||i}function ut(e,t,n,r,i,s,o,a){const l=_(),u=G(),d=e+q,h=u.firstCreatePass?function r7(e,t,n,r,i,s,o,a,l){const u=t.consts,d=ui(t,e,4,o||null,qn(u,a));K1(t,n,d,qn(u,l)),Vo(t,d);const h=d.tView=W1(2,d,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}(d,u,l,t,n,r,i,s,o):u.data[d];nn(h,!1);const p=ny(u,l,h,e);Ro()&&ia(u,l,p,h),ze(p,l),Ca(l,l[d]=D0(p,l,p,h)),No(h)&&G1(u,l,h),null!=o&&Z1(l,h,a)}let ny=function ry(e,t,n,r){return Bn(!0),t[L].createComment("")};function ke(e,t,n){const r=_();return Be(r,qr(),t)&&function Mt(e,t,n,r,i,s,o,a){const l=ct(t,n);let d,u=t.inputs;!a&&null!=u&&(d=u[r])?(X1(e,n,d,r,i),lr(t)&&function Qw(e,t){const n=mt(t,e);16&n[H]||(n[H]|=64)}(n,t.index)):3&t.type&&(r=function Kw(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}(G(),function ve(){const e=N.lFrame;return np(e.tView,e.selectedIndex)}(),r,e,t,r[L],n,!1),ke}function au(e,t,n,r,i){const o=i?"class":"style";X1(e,n,t.inputs[o],o,r)}function Y(e,t,n,r){const i=_(),s=G(),o=q+e,a=i[L],l=s.firstCreatePass?function a7(e,t,n,r,i,s){const o=t.consts,l=ui(t,e,2,r,qn(o,i));return K1(t,n,l,qn(o,s)),null!==l.attrs&&Da(l,l.attrs,!1),null!==l.mergedAttrs&&Da(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,n,r):s.data[o],u=sy(s,i,l,a,t,e);i[o]=u;const d=No(l);return nn(l,!0),vf(a,u,l),32!=(32&l.flags)&&Ro()&&ia(s,i,u,l),0===function OM(){return N.lFrame.elementDepthCount}()&&ze(u,i),function FM(){N.lFrame.elementDepthCount++}(),d&&(G1(s,i,l),U1(s,l,i)),null!==r&&Z1(i,l),Y}function re(){let e=Re();Pl()?Nl():(e=e.parent,nn(e,!1));const t=e;(function RM(e){return N.skipHydrationRootTNode===e})(t)&&function zM(){N.skipHydrationRootTNode=null}(),function LM(){N.lFrame.elementDepthCount--}();const n=G();return n.firstCreatePass&&(Vo(n,e),xl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function n6(e){return 0!=(8&e.flags)}(t)&&au(n,t,_(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function r6(e){return 0!=(16&e.flags)}(t)&&au(n,t,_(),t.stylesWithoutHost,!1),re}function Pe(e,t,n,r){return Y(e,t,n,r),re(),Pe}let sy=(e,t,n,r,i,s)=>(Bn(!0),ta(r,i,function kp(){return N.lFrame.currentNamespace}()));function Oa(e,t,n){const r=_(),i=G(),s=e+q,o=i.firstCreatePass?function u7(e,t,n,r,i){const s=t.consts,o=qn(s,r),a=ui(t,e,8,"ng-container",o);return null!==o&&Da(a,o,!0),K1(t,n,a,qn(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];nn(o,!0);const a=ay(i,r,o,e);return r[s]=a,Ro()&&ia(i,r,a,o),ze(a,r),No(o)&&(G1(i,r,o),U1(i,o,r)),null!=n&&Z1(r,o),Oa}function Fa(){let e=Re();const t=G();return Pl()?Nl():(e=e.parent,nn(e,!1)),t.firstCreatePass&&(Vo(t,e),xl(e)&&t.queries.elementEnd(e)),Fa}let ay=(e,t,n,r)=>(Bn(!0),s1(t[L],""));function Mi(){return _()}function La(e){return!!e&&"function"==typeof e.then}function cy(e){return!!e&&"function"==typeof e.subscribe}function Ve(e,t,n,r){const i=_(),s=G(),o=Re();return function uy(e,t,n,r,i,s,o){const a=No(r),u=e.firstCreatePass&&A0(e),d=t[be],h=S0(t);let p=!0;if(3&r.type||o){const g=ct(r,t),v=o?o(g):g,k=h.length,m=o?C=>o(le(C[r.index])):r.index;let b=null;if(!o&&a&&(b=function p7(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[Pr],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,p=!1;else{s=hy(r,t,d,s,!1);const C=n.listen(v,i,s);h.push(s,C),u&&u.push(i,m,k,k+1)}}else s=hy(r,t,d,s,!1);const f=r.outputs;let y;if(p&&null!==f&&(y=f[i])){const g=y.length;if(g)for(let v=0;v<g;v+=2){const T=t[y[v]][y[v+1]].subscribe(s),ie=h.length;h.push(s,T),u&&u.push(i,r.index,ie,-(ie+1))}}}(s,i,i[L],o,e,t,r),Ve}function dy(e,t,n,r){try{return tn(6,t,n),!1!==n(r)}catch(i){return I0(e,i),!1}finally{tn(7,t,n)}}function hy(e,t,n,r,i){return function s(o){if(o===Function)return r;_s(e.componentOffset>-1?mt(e.index,t):t);let l=dy(t,n,r,o),u=s.__ngNextListenerFn__;for(;u;)l=dy(t,n,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function wt(e=1){return function ZM(e){return(N.lFrame.contextLView=function WM(e,t){for(;e>0;)t=t[Or],e--;return t}(e,N.lFrame.contextLView))[be]}(e)}function f7(e,t){let n=null;const r=function Y3(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?E2(e,s,!0):eM(r,s))return i}else n=i}return n}function Ra(e,t){return e<<17|t<<2}function Zn(e){return e>>17&32767}function lu(e){return 2|e}function gr(e){return(131068&e)>>2}function uu(e,t){return-131069&e|t<<2}function du(e){return 1|e}function by(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?Zn(s):gr(s),l=!1;for(;0!==a&&(!1===l||o);){const d=e[a+1];M7(e[a],t)&&(l=!0,e[a+1]=r?du(d):lu(d)),a=r?Zn(d):gr(d)}l&&(e[n+1]=r?lu(s):du(s))}function M7(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Qr(e,t)>=0}function Va(e,t){return function $t(e,t,n,r){const i=_(),s=G(),o=function Mn(e){const t=N.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function Ny(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Xe()],o=function Py(e,t){return t>=e.expandoStartIndex}(e,n);(function Ry(e,t){return 0!=(e.flags&(t?8:16))})(s,r)&&null===t&&!o&&(t=!1),t=function A7(e,t,n,r){const i=function Fl(e){const t=N.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Is(n=hu(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=hu(i,e,t,n,r),null===s){let l=function T7(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==gr(r))return e[Zn(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=hu(null,e,t,l[1],r),l=Is(l,t.attrs,r),function I7(e,t,n,r){e[Zn(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else s=function P7(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Is(r,e[s].hostAttrs,n);return Is(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function v7(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Zn(o),l=gr(o);e[r]=n;let d,u=!1;if(Array.isArray(n)?(d=n[1],(null===d||Qr(n,d)>0)&&(u=!0)):d=n,i)if(0!==l){const p=Zn(e[a+1]);e[r+1]=Ra(p,a),0!==p&&(e[p+1]=uu(e[p+1],r)),e[a+1]=function g7(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Ra(a,0),0!==a&&(e[a+1]=uu(e[a+1],r)),a=r;else e[r+1]=Ra(l,0),0===a?a=r:e[l+1]=uu(e[l+1],r),l=r;u&&(e[r+1]=lu(e[r+1])),by(e,d,r,!0),by(e,d,r,!1),function k7(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Qr(s,t)>=0&&(n[r+1]=du(n[r+1]))}(t,d,e,r,s),o=Ra(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}(s,e,o,r),t!==j&&Be(i,o,t)&&function Fy(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,u=l[a+1],d=function m7(e){return 1==(1&e)}(u)?Ly(l,t,n,i,gr(u),o):void 0;ja(d)||(ja(s)||function y7(e){return 2==(2&e)}(u)&&(s=Ly(l,null,n,i,a,o)),function f8(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:$n.DashCase;null==i?e.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=$n.Important),e.setStyle(n,r,i,s))}}(r,o,Lo(Xe(),n),i,s))}(s,s.data[Xe()],i,i[L],e,i[o+1]=function L7(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ae(function Un(e){return e instanceof _f?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,o)}(e,t,null,!0),Va}function hu(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Is(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Is(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),vt(e,o,!!n||t[++s]))}return void 0===e?null:e}function Ly(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),d=u?l[1]:l,h=null===d;let p=n[i+1];p===j&&(p=h?K:void 0);let f=h?Wl(p,r):d===r?p:void 0;if(u&&!ja(f)&&(f=Wl(l,r)),ja(f)&&(a=f,o))return a;const y=e[i+1];i=o?Zn(y):gr(y)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Wl(l,r))}return a}function ja(e){return void 0!==e}function $e(e,t=""){const n=_(),r=G(),i=e+q,s=r.firstCreatePass?ui(r,i,1,t,null):r.data[i],o=Vy(r,n,s,t,e);n[i]=o,Ro()&&ia(r,n,o,s),nn(s,!1)}let Vy=(e,t,n,r,i)=>(Bn(!0),function ea(e,t){return e.createText(t)}(t[L],r));function _i(e){return Ps("",e,""),_i}function Ps(e,t,n){const r=_(),i=function hi(e,t,n,r){return Be(e,qr(),n)?t+F(n)+r:j}(r,e,t,n);return i!==j&&function Cn(e,t,n){const r=Lo(t,e);!function sf(e,t,n){e.setValue(t,n)}(e[L],r,n)}(r,Xe(),i),Ps}const bi="en-US";let og=bi;function yu(e,t,n,r,i){if(e=O(e),Array.isArray(e))for(let s=0;s<e.length;s++)yu(e[s],t,n,r,i);else{const s=G(),o=_(),a=Re();let l=fr(e)?e:O(e.provide);const u=Vf(e),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(fr(e)||!e.multi){const f=new ss(u,i,x),y=mu(l,t,i?d:d+p,h);-1===y?($l(qo(a,o),s,l),gu(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[y]=f,o[y]=f)}else{const f=mu(l,t,d+p,h),y=mu(l,t,d,d+p),v=y>=0&&n[y];if(i&&!v||!i&&!(f>=0&&n[f])){$l(qo(a,o),s,l);const k=function rb(e,t,n,r,i){const s=new ss(e,n,x);return s.multi=[],s.index=t,s.componentProviders=0,Ig(s,i,r&&!n),s}(i?nb:tb,n.length,i,r,u);!i&&v&&(n[y].providerFactory=k),gu(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else gu(s,e,f>-1?f:y,Ig(n[i?y:f],u,!i&&r));!i&&r&&v&&n[y].componentProviders++}}}function gu(e,t,n,r){const i=fr(t),s=function U8(e){return!!e.useClass}(t);if(i||s){const l=(s?O(t.useClass):t).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const d=u.indexOf(n);-1===d?u.push(n,[r,l]):u[d+1].push(r,l)}else u.push(n,l)}}}function Ig(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function mu(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function tb(e,t,n,r){return vu(this.multi,[])}function nb(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=hr(n,n[D],this.providerFactory.index,r);s=a.slice(0,o),vu(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],vu(i,s);return s}function vu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function me(e,t=[]){return n=>{n.providersResolver=(r,i)=>function eb(e,t,n){const r=G();if(r.firstCreatePass){const i=qt(e);yu(n,r.data,r.blueprint,i,!0),yu(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class vr{}class ib{}class ku extends vr{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new V0(this);const i=function gt(e,t){const n=e[k2]||null;if(!n&&!0===t)throw new Error(`Type ${Ae(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function bn(e){return e instanceof Function?e():e}(i.bootstrap),this._r3Injector=Yf(t,n,[{provide:vr,useValue:this},{provide:Ma,useValue:this.componentFactoryResolver},...r],Ae(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Mu extends ib{constructor(t){super(),this.moduleType=t}create(t){return new ku(this.moduleType,t,[])}}function $a(e,t,n,r){return Hg(_(),Je(),e,t,n,r)}function jg(e,t,n,r,i){return function zg(e,t,n,r,i,s,o){const a=t+n;return yr(e,a,i,s)?on(e,a+2,o?r.call(o,i,s):r(i,s)):Vs(e,a+2)}(_(),Je(),e,t,n,r,i)}function _u(e,t,n,r,i,s){return function qg(e,t,n,r,i,s,o,a){const l=t+n;return function Ta(e,t,n,r,i){const s=yr(e,t,n,r);return Be(e,t+2,i)||s}(e,l,i,s,o)?on(e,l+3,a?r.call(a,i,s,o):r(i,s,o)):Vs(e,l+3)}(_(),Je(),e,t,n,r,i,s)}function Vs(e,t){const n=e[t];return n===j?void 0:n}function Hg(e,t,n,r,i,s){const o=t+n;return Be(e,o,i)?on(e,o+1,s?r.call(s,i):r(i)):Vs(e,o+1)}function Gg(e,t,n){const r=e+q,i=_(),s=Vr(i,r);return function js(e,t){return e[D].data[t].pure}(i,r)?Hg(i,Je(),t,s.transform,n,s):s.transform(n)}function Tb(){return this._results[Symbol.iterator]()}class xu{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new qe)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=xu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Tb)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function It(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function m6(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Pb(e,t,n,r=!0){const i=t[D];if(function o8(e,t,n,r){const i=Fe+r,s=n.length;r>0&&(n[i-1][zt]=t),r<s-Fe?(t[zt]=n[i],Op(n,Fe+r,t)):(n.push(t),t[zt]=null),t[ye]=n;const o=t[Ji];null!==o&&n!==o&&function a8(e,t){const n=e[Lr];t[Ce]!==t[ye][ye][Ce]&&(e[O2]=!0),null===n?e[Lr]=[t]:n.push(t)}(o,t);const a=t[Jt];null!==a&&a.insertView(e),t[H]|=128}(i,t,e,n),r){const s=u1(n,e),o=t[L],a=ra(o,e[Xt]);null!==a&&function r8(e,t,n,r,i,s){r[_e]=i,r[je]=t,ys(e,r,n,1,i,s)}(i,e[je],o,t,a,s)}}let En=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Fb}return e})();const Nb=En,Ob=class extends Nb{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function Ib(e,t,n,r){const i=t.tView,a=ba(e,i,n,4096&e[H]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ji]=e[t.index];const u=e[Jt];return null!==u&&(a[Jt]=u.createEmbeddedView(i)),eu(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Cs(i)}};function Fb(){return Ua(Re(),_())}function Ua(e,t){return 4&e.type?new Ob(t,e,ai(e,t)):null}let ln=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=zb}return e})();function zb(){return Xg(Re(),_())}const qb=ln,Yg=class extends qb{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ai(this._hostTNode,this._hostLView)}get injector(){return new et(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bo(this._hostTNode,this._hostLView);if(zl(t)){const n=as(t,this._hostLView),r=os(t);return new et(n[D].data[r+8],n)}return new et(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Jg(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Fe}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,s){const o=t&&!function ls(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?t:new Ds(U(t)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const v=(o?u:this.parentInjector).get(_n,null);v&&(s=v)}U(l.componentType??{});const f=l.create(u,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function IM(e){return Ye(e[ye])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const u=i[ye],d=new Yg(u,u[je],u[ye]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(n),a=this._lContainer;return Pb(a,i,o,!r),t.attachToViewContainerRef(),Op(bu(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Jg(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=na(this._lContainer,n);r&&(Uo(bu(this._lContainer),n),o1(r[D],r))}detach(t){const n=this._adjustIndex(t,-1),r=na(this._lContainer,n);return r&&null!=Uo(bu(this._lContainer),n)?new Cs(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Jg(e){return e[8]}function bu(e){return e[8]||(e[8]=[])}function Xg(e,t){let n;const r=t[e.index];return Ye(r)?n=r:(n=D0(r,t,null,e),t[e.index]=n,Ca(t,n)),em(n,t,e,r),new Yg(n,e,t)}let em=function tm(e,t,n,r){if(e[Xt])return;let i;i=8&n.type?le(r):function Bb(e,t){const n=e[L],r=n.createComment(""),i=ct(t,e);return pr(n,ra(n,i),r,function d8(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Xt]=i};class Cu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Cu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Du{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Du(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==lm(t,n).matches&&this.queries[n].setDirty()}}class nm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Eu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Eu(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Su{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Su(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,Gb(n,s)),this.matchTNodeWithReadOption(t,n,$o(n,t,s,!1,!1))}else r===En?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,$o(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===kt||i===ln||i===En&&4&n.type)this.addMatch(n.index,-2);else{const s=$o(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Gb(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Wb(e,t,n,r){return-1===n?function Zb(e,t){return 11&e.type?ai(e,t):4&e.type?Ua(e,t):null}(t,e):-2===n?function Kb(e,t,n){return n===kt?ai(t,e):n===En?Ua(t,e):n===ln?Xg(t,e):void 0}(e,t,r):hr(e,e[D],n,t)}function rm(e,t,n,r){const i=t[Jt].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:Wb(t,s[u],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function Au(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=rm(e,t,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],d=t[-l];for(let h=Fe;h<d.length;h++){const p=d[h];p[Ji]===p[ye]&&Au(p[D],p,u,r)}if(null!==d[Lr]){const h=d[Lr];for(let p=0;p<h.length;p++){const f=h[p];Au(f[D],f,u,r)}}}}}return r}function im(e){const t=_(),n=G(),r=pp();Ll(r+1);const i=lm(n,r);if(e.dirty&&function AM(e){return 4==(4&e[H])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Au(n,t,r,[]):rm(n,t,i,r);e.reset(s,hw),e.notifyOnChanges()}return!0}return!1}function sm(e,t,n){const r=G();r.firstCreatePass&&(function cm(e,t,n){null===e.queries&&(e.queries=new Eu),e.queries.track(new Su(t,n))}(r,new nm(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function am(e,t,n){const r=new xu(4==(4&n));(function Gw(e,t,n,r){const i=S0(t);i.push(n),e.firstCreatePass&&A0(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[Jt]&&(t[Jt]=new Du),t[Jt].queries.push(new Cu(r))}(r,_(),t)}function lm(e,t){return e.queries.getByIndex(t)}function um(e,t){return Ua(e,t)}const k9=new A("Application Initializer");let Ou=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=se(k9,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(La(s))n.push(s);else if(cy(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sn=new A("LocaleId",{providedIn:"root",factory:()=>se(Sn,$.Optional|$.SkipSelf)||function w9(){return typeof $localize<"u"&&$localize.locale||bi}()});let b9=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new a2(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Im=new A(""),Ka=new A("");let ju,Ru=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ju||(function U9(e){ju=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(R(ge),R(Vu),R(Ka))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})(),Vu=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ju?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Wn=null;const Pm=new A("AllowMultipleToken"),Hu=new A("PlatformDestroyListeners"),Nm=new A("appBootstrapListener");function Lm(e,t,n=[]){const r=`Platform: ${t}`,i=new A(r);return(s=[])=>{let o=zu();if(!o||o.injector.get(Pm,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function W9(e){if(Wn&&!Wn.get(Pm,!1))throw new w(400,!1);(function Om(){!function gM(e){G2=e}(()=>{throw new w(600,!1)})})(),Wn=e;const t=e.get(Vm);(function Fm(e){e.get(jf,null)?.forEach(n=>n())})(e)}(function Rm(e=[],t){return Bt.create({name:t,providers:[{provide:_1,useValue:"platform"},{provide:Hu,useValue:new Set([()=>Wn=null])},...e]})}(a,r))}return function Q9(e){const t=zu();if(!t)throw new w(401,!1);return t}()}}function zu(){return Wn?.get(Vm)??null}let Vm=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Y9(e="zone.js",t){return"noop"===e?new Ew:"zone.js"===e?new ge(t):e}(r?.ngZone,function jm(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function ob(e,t,n){return new ku(e,t,n)}(n.moduleType,this.injector,function $m(e){return[{provide:ge,useFactory:e},{provide:la,multi:!0,useFactory:()=>{const t=se(X9,{optional:!0});return()=>t.initialize()}},{provide:Bm,useFactory:J9},{provide:n0,useFactory:r0}]}(()=>i)),o=s.injector.get(xn,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Qa(this._modules,s),a.unsubscribe()})}),function Hm(e,t,n){try{const r=n();return La(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Ou);return a.runInitializers(),a.donePromise.then(()=>(function ag(e){Et(e,"Expected localeId to be defined"),"string"==typeof e&&(og=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Sn,bi)||bi),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=zm({},r);return function G9(e,t,n){const r=new Mu(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ei);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new w(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Hu,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(R(Bt))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function zm(e,t){return Array.isArray(t)?t.reduce(zm,e):{...e,...t}}let Ei=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=se(Bm),this.zoneIsStable=se(n0),this.componentTypes=[],this.components=[],this.isStable=se(b9).hasPendingTasks.pipe(function S3(e,t){return fn((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(yn(r,l=>{i?.unsubscribe();let u=0;const d=s++;Qt(e(l,d)).subscribe(i=yn(r,h=>r.next(t?t(l,h,d,u++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}(n=>n?c2(!1):this.zoneIsStable),u2(),l2()),this._injector=se(_n)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Uf;if(!this._injector.get(Ou).done)throw!i&&function Ki(e){const t=U(e)||Oe(e)||Qe(e);return null!==t&&t.standalone}(n),new w(405,!1);let o;o=i?n:this._injector.get(Ma).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function Z9(e){return e.isBoundToModule}(o)?void 0:this._injector.get(vr),u=o.create(Bt.NULL,[],r||o.selector,a),d=u.location.nativeElement,h=u.injector.get(Im,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Qa(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Qa(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Nm,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qa(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Bm=new A("",{providedIn:"root",factory:()=>se(xn).handleError.bind(void 0)});function J9(){const e=se(ge),t=se(xn);return n=>e.runOutsideAngular(()=>t.handleError(n))}let X9=(()=>{class e{constructor(){this.zone=se(ge),this.applicationRef=se(Ei)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let qu=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=tC}return e})();function tC(e){return function nC(e,t,n){if(lr(e)&&!n){const r=mt(e.index,t);return new Cs(r,r)}return 47&e.type?new Cs(t[Ce],t):null}(Re(),_(),16==(16&e))}class Wm{constructor(){}supports(t){return Aa(t)}create(t){return new cC(t)}}const aC=(e,t)=>t;class cC{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||aC}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Qm(r,i,s)?n:r,a=Qm(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,d=l-i;if(u!=d){for(let p=0;p<u;p++){const f=p<s.length?s[p]:s[p]=0,y=f+p;d<=y&&y<u&&(s[p]=f+1)}s[o.previousIndex]=d-u}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Aa(t))throw new w(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function j_(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new lC(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Km),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Km),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class lC{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uC{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Km{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new uC,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qm(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Ym{constructor(){}supports(t){return t instanceof Map||tu(t)}create(){return new dC}}class dC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||tu(t)))throw new w(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new hC(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class hC{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jm(){return new Xa([new Wm])}let Xa=(()=>{class e{static#e=this.\u0275prov=B({token:e,providedIn:"root",factory:Jm});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Jm()),deps:[[e,new Ql,new Zo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new w(901,!1)}}return e})();function Xm(){return new qs([new Ym])}let qs=(()=>{class e{static#e=this.\u0275prov=B({token:e,providedIn:"root",factory:Xm});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Xm()),deps:[[e,new Ql,new Zo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new w(901,!1)}}return e})();const yC=Lm(null,"core",[]);let gC=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(R(Ei))};static#t=this.\u0275mod=Ht({type:e});static#n=this.\u0275inj=St({})}return e})(),Ku=null;function Bs(){return Ku}class AC{}const An=new A("DocumentToken"),sd=/\s+/,gv=[];let od=(()=>{class e{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=gv,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(sd):gv}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(sd):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(sd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(x(Xa),x(qs),x(kt),x(Gn))};static#t=this.\u0275dir=V({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class mD{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vv=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mD(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),kv(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{kv(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(x(ln),x(En),x(Xa))};static#t=this.\u0275dir=V({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function kv(e,t){e.context.$implicit=t.item}let Mv=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new vD,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){wv("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){wv("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(x(ln),x(En))};static#t=this.\u0275dir=V({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class vD{constructor(){this.$implicit=null,this.ngIf=null}}function wv(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ae(t)}'.`)}let xv=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,s]=n.split("."),o=-1===i.indexOf("-")?void 0:$n.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||e)(x(kt),x(qs),x(Gn))};static#t=this.\u0275dir=V({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),bv=(()=>{class e{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=Cv}transform(n,r=Cv){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ||(this.differ=this.differs.find(n).create());const i=this.differ.diff(n),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function jD(e,t){return{key:e,value:t}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static#e=this.\u0275fac=function(r){return new(r||e)(x(qs,16))};static#t=this.\u0275pipe=ot({name:"keyvalue",type:e,pure:!1,standalone:!0})}return e})();function Cv(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let BD=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ht({type:e});static#n=this.\u0275inj=St({})}return e})();function Ev(e){return"server"===e}class mE extends AC{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pd extends mE{static makeCurrent(){!function SC(e){Ku||(Ku=e)}(new pd)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function vE(){return Zs=Zs||document.querySelector("base"),Zs?Zs.getAttribute("href"):null}();return null==n?null:function kE(e){pc=pc||document.createElement("a"),pc.setAttribute("href",e);const t=pc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function yD(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let pc,Zs=null,wE=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})();const fd=new A("EventManagerPlugins");let Pv=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(R(fd),R(ge))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})();class Nv{constructor(t){this._doc=t}}const yd="ng-app-id";let Ov=(()=>{class e{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ev(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${yd}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(yd),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(yd,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(R(An),R(fa),R(zf,8),R(ii))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})();const gd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},md=/%COMP%/g,CE=new A("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Lv(e,t){return t.map(n=>n.replace(md,e))}let vd=(()=>{class e{constructor(n,r,i,s,o,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ev(a),this.defaultRenderer=new kd(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===At.ShadowDom&&(r={...r,encapsulation:At.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Vv?i.applyToHost(n):i instanceof Md&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case At.Emulated:s=new Vv(l,u,r,this.appId,d,o,a,h);break;case At.ShadowDom:return new AE(l,u,n,r,o,a,this.nonce,h);default:s=new Md(l,u,r,d,o,a,h)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(R(Pv),R(Ov),R(fa),R(CE),R(An),R(ii),R(ge),R(zf))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})();class kd{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(gd[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Rv(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Rv(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=gd[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=gd[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&($n.DashCase|$n.Important)?t.style.setProperty(n,r,i&$n.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&$n.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Bs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Rv(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class AE extends kd{constructor(t,n,r,i,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Lv(i.id,i.styles);for(const d of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Md extends kd{constructor(t,n,r,i,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?Lv(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vv extends Md{constructor(t,n,r,i,s,o,a,l){const u=i+"-"+r.id;super(t,n,r,s,o,a,l,u),this.contentAttr=function DE(e){return"_ngcontent-%COMP%".replace(md,e)}(u),this.hostAttr=function EE(e){return"_nghost-%COMP%".replace(md,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let TE=(()=>{class e extends Nv{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(R(An))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})();const jv=["alt","control","meta","shift"],IE={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PE={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let NE=(()=>{class e extends Nv{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),jv.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=IE[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jv.forEach(o=>{o!==i&&(0,PE[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(R(An))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})();const RE=Lm(yC,"browser",[{provide:ii,useValue:"browser"},{provide:jf,useValue:function OE(){pd.makeCurrent()},multi:!0},{provide:An,useFactory:function LE(){return function k8(e){p1=e}(document),document},deps:[]}]),VE=new A(""),qv=[{provide:Ka,useClass:class ME{addToWindow(t){ce.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new w(5103,!1);return s},ce.getAllAngularTestabilities=()=>t.getAllTestabilities(),ce.getAllAngularRootElements=()=>t.getAllRootElements(),ce.frameworkStabilizers||(ce.frameworkStabilizers=[]),ce.frameworkStabilizers.push(r=>{const i=ce.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Bs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Im,useClass:Ru,deps:[ge,Vu,Ka]},{provide:Ru,useClass:Ru,deps:[ge,Vu,Ka]}],Bv=[{provide:_1,useValue:"root"},{provide:xn,useFactory:function FE(){return new xn},deps:[]},{provide:fd,useClass:TE,multi:!0,deps:[An,ge,ii]},{provide:fd,useClass:NE,multi:!0,deps:[An]},vd,Ov,Pv,{provide:ws,useExisting:vd},{provide:class WD{},useClass:wE,deps:[]},[]];let $v=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:fa,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(R(VE,12))};static#t=this.\u0275mod=Ht({type:e});static#n=this.\u0275inj=St({providers:[...Bv,...qv],imports:[BD,gC]})}return e})();typeof window<"u"&&window;class Wv{}class UE{}const Pn="*";function Kv(e,t=null){return{type:4,styles:t,timings:e}}function Qv(e,t=null){return{type:2,steps:e,options:t}}function Ai(e){return{type:6,styles:e,offset:null}}function Yv(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}class Ws{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Jv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function Xv(e){return new w(3e3,!1)}function Qn(e){switch(e.length){case 0:return new Ws;case 1:return e[0];default:return new Jv(e)}}function ek(e,t,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const u=l.get("offset"),d=u==o,h=d&&a||new Map;l.forEach((p,f)=>{let y=f,g=p;if("offset"!==f)switch(y=e.normalizePropertyName(y,i),g){case"!":g=n.get(f);break;case Pn:g=r.get(f);break;default:g=e.normalizeStyleValue(f,y,g,i)}h.set(y,g)}),d||s.push(h),a=h,o=u}),i.length)throw function yS(e){return new w(3502,!1)}();return s}function xd(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&bd(n,"start",e)));break;case"done":e.onDone(()=>r(n&&bd(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&bd(n,"destroy",e)))}}function bd(e,t,n){const s=Cd(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),o=e._data;return null!=o&&(s._data=o),s}function Cd(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function xt(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function tk(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const ES=(()=>typeof document>"u"?null:document.documentElement)();function Dd(e){const t=e.parentNode||e.host||null;return t===ES?null:t}let Mr=null,nk=!1;function rk(e,t){for(;t;){if(t===e)return!0;t=Dd(t)}return!1}function ik(e,t,n){if(n)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]}let sk=(()=>{class e{validateStyleProperty(n){return function AS(e){Mr||(Mr=function TS(){return typeof document<"u"?document.body:null}()||{},nk=!!Mr.style&&"WebkitAppearance"in Mr.style);let t=!0;return Mr.style&&!function SS(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Mr.style,!t&&nk&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Mr.style)),t}(n)}matchesElement(n,r){return!1}containsElement(n,r){return rk(n,r)}getParentElement(n){return Dd(n)}query(n,r,i){return ik(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],l){return new Ws(i,s)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})(),Ed=(()=>{class e{static#e=this.NOOP=new sk}return e})();const IS=1e3,Sd="ng-enter",fc="ng-leave",yc="ng-trigger",gc=".ng-trigger",ak="ng-animating",Ad=".ng-animating";function Nn(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Td(parseFloat(t[1]),t[2])}function Td(e,t){return"s"===t?e*IS:e}function mc(e,t,n){return e.hasOwnProperty("duration")?e:function NS(e,t,n){let i,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Xv()),{duration:0,delay:0,easing:""};i=Td(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Td(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=e;if(!n){let a=!1,l=t.length;i<0&&(t.push(function ZE(){return new w(3100,!1)}()),a=!0),s<0&&(t.push(function WE(){return new w(3101,!1)}()),a=!0),a&&t.splice(l,0,Xv())}return{duration:i,delay:s,easing:o}}(e,t,n)}function Ks(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function ck(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Yn(e,t=new Map,n){if(n)for(let[r,i]of n)t.set(r,i);for(let[r,i]of e)t.set(r,i);return t}function un(e,t,n){t.forEach((r,i)=>{const s=Pd(i);n&&!n.has(i)&&n.set(i,e.style[s]),e.style[s]=r})}function wr(e,t){t.forEach((n,r)=>{const i=Pd(r);e.style[i]=""})}function Qs(e){return Array.isArray(e)?1==e.length?e[0]:Qv(e):e}const Id=new RegExp("{{\\s*(.+?)\\s*}}","g");function uk(e){let t=[];if("string"==typeof e){let n;for(;n=Id.exec(e);)t.push(n[1]);Id.lastIndex=0}return t}function Ys(e,t,n){const r=e.toString(),i=r.replace(Id,(s,o)=>{let a=t[o];return null==a&&(n.push(function QE(e){return new w(3003,!1)}()),a=""),a.toString()});return i==r?e:i}function vc(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const LS=/-+([a-z0-9])/g;function Pd(e){return e.replace(LS,(...t)=>t[1].toUpperCase())}function bt(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function YE(e){return new w(3004,!1)}()}}function dk(e,t){return window.getComputedStyle(e)[t]}const kc="*";function jS(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function HS(e,t,n){if(":"==e[0]){const l=function zS(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(function dS(e){return new w(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function uS(e){return new w(3015,!1)}()),t;const i=r[1],s=r[2],o=r[3];t.push(hk(i,o));"<"==s[0]&&!(i==kc&&o==kc)&&t.push(hk(o,i))}(r,n,t)):n.push(e),n}const Mc=new Set(["true","1"]),wc=new Set(["false","0"]);function hk(e,t){const n=Mc.has(e)||wc.has(e),r=Mc.has(t)||wc.has(t);return(i,s)=>{let o=e==kc||e==i,a=t==kc||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?Mc.has(e):wc.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?Mc.has(t):wc.has(t)),o&&a}}const qS=new RegExp("s*:selfs*,?","g");function Nd(e,t,n,r){return new BS(e).build(t,n,r)}class BS{constructor(t){this._driver=t}build(t,n,r){const i=new GS(n);return this._resetContextStyleTimingState(i),bt(this,Qs(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&n.errors.push(function XE(){return new w(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,n))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(function eS(){return new w(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,n){const r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{uk(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(vc(s.values()),n.errors.push(function tS(e,t){return new w(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const r=bt(this,Qs(t.animation),n);return{type:1,matchers:jS(t.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:_r(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(r=>bt(this,r,n)),options:_r(t.options)}}visitGroup(t,n){const r=n.currentTime;let i=0;const s=t.steps.map(o=>{n.currentTime=r;const a=bt(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:_r(t.options)}}visitAnimate(t,n){const r=function WS(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return Od(mc(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Od(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=mc(n,t);return Od(i.duration,i.delay,i.easing)}(t.timings,n.errors);n.currentAnimateTimings=r;let i,s=t.styles?t.styles:Ai({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=Ai(u)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,n){const r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===Pn?r.push(a):n.errors.push(new w(3002,!1)):r.push(ck(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=n.collectedStyles.get(n.currentQuerySelector),d=u.get(l);let h=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(n.errors.push(function rS(e,t,n,r,i){return new w(3010,!1)}()),h=!1),s=d.startTime),h&&u.set(l,{startTime:s,endTime:i}),n.options&&function FS(e,t,n){const r=t.params||{},i=uk(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function KE(e){return new w(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function iS(){return new w(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const d=t.steps.map(k=>{const m=this._makeStyleAst(k,n);let b=null!=m.offset?m.offset:function ZS(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(m.styles),C=0;return null!=b&&(s++,C=m.offset=b),l=l||C<0||C>1,a=a||C<u,u=C,o.push(C),m});l&&n.errors.push(function sS(){return new w(3012,!1)}()),a&&n.errors.push(function oS(){return new w(3200,!1)}());const h=t.steps.length;let p=0;s>0&&s<h?n.errors.push(function aS(){return new w(3202,!1)}()):0==s&&(p=1/(h-1));const f=h-1,y=n.currentTime,g=n.currentAnimateTimings,v=g.duration;return d.forEach((k,m)=>{const b=p>0?m==f?1:p*m:o[m],C=b*v;n.currentTime=y+g.delay+C,g.duration=C,this._validateStyleAst(k,n),k.offset=b,r.styles.push(k)}),r}visitReference(t,n){return{type:8,animation:bt(this,Qs(t.animation),n),options:_r(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:_r(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:_r(t.options)}}visitQuery(t,n){const r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;const[s,o]=function $S(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(qS,"")),e=e.replace(/@\*/g,gc).replace(/@\w+/g,n=>gc+"-"+n.slice(1)).replace(/:animating/g,Ad),[e,t]}(t.selector);n.currentQuerySelector=r.length?r+" "+s:s,xt(n.collectedStyles,n.currentQuerySelector,new Map);const a=bt(this,Qs(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:_r(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function cS(){return new w(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:mc(t.timings,n.errors,!0);return{type:12,animation:bt(this,Qs(t.animation),n),timings:r,options:null}}}class GS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _r(e){return e?(e=Ks(e)).params&&(e.params=function US(e){return e?Ks(e):null}(e.params)):e={},e}function Od(e,t,n){return{duration:e,delay:t,easing:n}}function Fd(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class _c{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const YS=new RegExp(":enter","g"),XS=new RegExp(":leave","g");function Ld(e,t,n,r,i,s=new Map,o=new Map,a,l,u=[]){return(new eA).buildKeyframes(e,t,n,r,i,s,o,a,l,u)}class eA{buildKeyframes(t,n,r,i,s,o,a,l,u,d=[]){u=u||new _c;const h=new Rd(t,n,u,i,s,d,[]);h.options=l;const p=l.delay?Nn(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([o],null,h.errors,l),bt(this,r,h);const f=h.timelines.filter(y=>y.containsAnimation());if(f.length&&a.size){let y;for(let g=f.length-1;g>=0;g--){const v=f[g];if(v.element===n){y=v;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,h.errors,l)}return f.length?f.map(y=>y.buildKeyframes()):[Fd(n,[],[],[],0,p,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){const r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(const i of t){const s=i?.delay;if(s){const o="number"==typeof s?s:Nn(Ys(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(t,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Nn(r.duration):null,a=null!=r.delay?Nn(r.delay):null;return 0!==o&&t.forEach(l=>{const u=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),bt(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const r=n.subContextCount;let i=n;const s=t.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xc);const o=Nn(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>bt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const r=[];let i=n.currentTimeline.currentTime;const s=t.options&&t.options.delay?Nn(t.options.delay):0;t.steps.forEach(o=>{const a=n.createSubContext(t.options);s&&a.delayNextStep(s),bt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const r=t.strValue;return mc(n.params?Ys(r,n.params,n.errors):r,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=t}visitQuery(t,n){const r=n.currentTimeline.currentTime,i=t.options||{},s=i.delay?Nn(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=xc);let o=r;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{n.currentQueryIndex=d;const h=n.createSubContext(t.options,u);s&&h.delayNextStep(s),u===n.element&&(l=h.currentTimeline),bt(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const r=n.parentContext,i=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const d=n.currentTimeline;l&&d.delayNextStep(l);const h=d.currentTime;bt(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}}const xc={};class Rd{constructor(t,n,r,i,s,o,a,l){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new bc(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Nn(r.duration)),null!=r.delay&&(i.delay=Nn(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Ys(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){const i=n||this.element,s=new Rd(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=xc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){const i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new tA(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(YS,"."+this._enterClassName)).replace(XS,"."+this._leaveClassName);let u=this._driver.query(this.element,t,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function lS(e){return new w(3014,!1)}()),a}}class bc{constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new bc(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Pn),this._currentKeyframe.set(n,Pn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function nA(e,t){const n=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||t.keys();for(let s of r)n.set(s,Pn)}else Yn(i,n)}),n}(t,this._globalTimelineStyles);for(let[a,l]of o){const u=Ys(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Pn),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=Yn(a,new Map,this._backFill);u.forEach((d,h)=>{"!"===d?t.add(h):d===Pn&&n.add(h)}),r||u.set("offset",l/this.duration),i.push(u)});const s=t.size?vc(t.values()):[],o=n.size?vc(n.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Fd(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class tA extends bc{constructor(t,n,r,i,s,o,a=!1){super(t,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,l=Yn(t[0]);l.set("offset",0),s.push(l);const u=Yn(t[0]);u.set("offset",yk(a)),s.push(u);const d=t.length-1;for(let h=1;h<=d;h++){let p=Yn(t[h]);const f=p.get("offset");p.set("offset",yk((n+f*r)/o)),s.push(p)}r=o,n=0,i="",t=s}return Fd(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function yk(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Vd{}const rA=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class iA extends Vd{normalizePropertyName(t,n){return Pd(t)}normalizeStyleValue(t,n,r,i){let s="";const o=r.toString().trim();if(rA.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function JE(e,t){return new w(3005,!1)}())}return o+s}}function gk(e,t,n,r,i,s,o,a,l,u,d,h,p){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:h,errors:p}}const jd={};class mk{constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return function sA(e,t,n,r,i){return e.some(s=>s(t,n,r,i))}(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,s,o,a,l,u,d){const h=[],p=this.ast.options&&this.ast.options.params||jd,y=this.buildStyles(r,a&&a.params||jd,h),g=l&&l.params||jd,v=this.buildStyles(i,g,h),k=new Set,m=new Map,b=new Map,C="void"===i,T={params:oA(g,p),delay:this.ast.options?.delay},ie=d?[]:Ld(t,n,this.ast.animation,s,o,y,v,T,u,h);let fe=0;if(ie.forEach(Ct=>{fe=Math.max(Ct.duration+Ct.delay,fe)}),h.length)return gk(n,this._triggerName,r,i,C,y,v,[],[],m,b,fe,h);ie.forEach(Ct=>{const Kt=Ct.element,Gc=xt(m,Kt,new Set);Ct.preStyleProps.forEach(Sr=>Gc.add(Sr));const yo=xt(b,Kt,new Set);Ct.postStyleProps.forEach(Sr=>yo.add(Sr)),Kt!==n&&k.add(Kt)});const Ze=vc(k.values());return gk(n,this._triggerName,r,i,C,y,v,ie,Ze,m,b,fe)}}function oA(e,t){const n=Ks(t);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(n[r]=e[r]);return n}class aA{constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){const r=new Map,i=Ks(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Ys(o,i,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}}class lA{constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new aA(i.style,i.options&&i.options.params||{},r))}),vk(this.states,"true","1"),vk(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new mk(t,i,this.states))}),this.fallbackTransition=function uA(e,t,n){return new mk(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(o=>o.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}}function vk(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const dA=new _c;class hA{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const r=[],s=Nd(this._driver,n,r,[]);if(r.length)throw function gS(e){return new w(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,n,r){const i=t.element,s=ek(this._normalizer,t.keyframes,n,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){const i=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=Ld(this._driver,n,s,Sd,fc,new Map,new Map,r,dA,i),o.forEach(d=>{const h=xt(a,d.element,new Map);d.postStyleProps.forEach(p=>h.set(p,null))})):(i.push(function mS(){return new w(3300,!1)}()),o=[]),i.length)throw function vS(e){return new w(3504,!1)}();a.forEach((d,h)=>{d.forEach((p,f)=>{d.set(f,this._driver.computeStyle(h,f,Pn))})});const u=Qn(o.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function kS(e){return new w(3301,!1)}();return n}listen(t,n,r,i){const s=Cd(n,"","","");return xd(this._getPlayer(t),r,s,i),()=>{}}command(t,n,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,n,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const kk="ng-animate-queued",Hd="ng-animate-disabled",mA=[],Mk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wt="__ng_removed";class zd{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const r=t&&t.hasOwnProperty("value");if(this.value=function _A(e){return e??null}(r?t.value:t),r){const s=Ks(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Js="void",qd=new zd(Js);class kA{constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ft(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw function MS(e,t){return new w(3302,!1)}();if(null==r||0==r.length)throw function wS(e){return new w(3303,!1)}();if(!function xA(e){return"start"==e||"done"==e}(r))throw function _S(e,t){return new w(3400,!1)}();const s=xt(this._elementListeners,t,[]),o={name:n,phase:r,callback:i};s.push(o);const a=xt(this._engine.statesByElement,t,new Map);return a.has(n)||(Ft(t,yc),Ft(t,yc+"-"+n),a.set(n,qd)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function xS(e){return new w(3401,!1)}();return n}trigger(t,n,r,i=!0){const s=this._getTrigger(n),o=new Bd(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(Ft(t,yc),Ft(t,yc+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n);const u=new zd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=qd),u.value!==Js&&l.value===u.value){if(!function DA(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(l.params,u.params)){const g=[],v=s.matchStyles(l.value,l.params,g),k=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{wr(t,v),un(t,k)})}return}const p=xt(this._engine.playersByElement,t,[]);p.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,u.value,t,u.params),y=!1;if(!f){if(!i)return;f=s.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:l,toState:u,player:o,isFallbackTransition:y}),y||(Ft(t,kk),o.onStart(()=>{Ti(t,kk)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const v=this._engine.playersByElement.get(t);if(v){let k=v.indexOf(o);k>=0&&v.splice(k,1)}}),this.players.push(o),p.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const r=this._engine.driver.query(t,gc,!0);r.forEach(i=>{if(i[Wt])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const d=this.trigger(t,u,Js,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),r&&Qn(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||qd,d=new zd(Js),h=new Bd(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:u,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(t,n){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{const s=t[Wt];(!s||s===Mk)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){Ft(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=Cd(s,r.triggerName,r.fromState.value,r.toState.value);l._data=t,xd(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class MA{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){const r=new kA(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(t,n,r,i){if(Cc(n)){const s=this._fetchNamespace(t);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!Cc(n))return;const s=n[Wt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ft(t,Hd)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ti(t,Hd))}removeNode(t,n,r){if(Cc(n)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,r,i,s){this.collectedLeaveElements.push(n),n[Wt]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,r,i,s){return Cc(n)?this._fetchNamespace(t).listen(n,r,i,s):()=>{}}_buildInstruction(t,n,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,gc,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,Ad,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qn(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[Wt];if(n&&n.setForRemoval){if(t[Wt]=Mk,n.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(Hd)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ft(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Qn(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function bS(e){return new w(3402,!1)}()}_flushAnimations(t,n){const r=new _c,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(E=>{d.add(E);const S=this.driver.query(E,".ng-animate-queued",!0);for(let I=0;I<S.length;I++)d.add(S[I])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),f=xk(p,this.collectedEnterElements),y=new Map;let g=0;f.forEach((E,S)=>{const I=Sd+g++;y.set(S,I),E.forEach(W=>Ft(W,I))});const v=[],k=new Set,m=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){const S=this.collectedLeaveElements[E],I=S[Wt];I&&I.setForRemoval&&(v.push(S),k.add(S),I.hasAnimation?this.driver.query(S,".ng-star-inserted",!0).forEach(W=>k.add(W)):m.add(S))}const b=new Map,C=xk(p,Array.from(k));C.forEach((E,S)=>{const I=fc+g++;b.set(S,I),E.forEach(W=>Ft(W,I))}),t.push(()=>{f.forEach((E,S)=>{const I=y.get(S);E.forEach(W=>Ti(W,I))}),C.forEach((E,S)=>{const I=b.get(S);E.forEach(W=>Ti(W,I))}),v.forEach(E=>{this.processLeaveNode(E)})});const T=[],ie=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(n).forEach(I=>{const W=I.player,Ne=I.element;if(T.push(W),this.collectedEnterElements.length){const We=Ne[Wt];if(We&&We.setForMove){if(We.previousTriggersValues&&We.previousTriggersValues.has(I.triggerName)){const Ar=We.previousTriggersValues.get(I.triggerName),Vt=this.statesByElement.get(I.element);if(Vt&&Vt.has(I.triggerName)){const Zc=Vt.get(I.triggerName);Zc.value=Ar,Vt.set(I.triggerName,Zc)}}return void W.destroy()}}const pn=!h||!this.driver.containsElement(h,Ne),Dt=b.get(Ne),ir=y.get(Ne),Me=this._buildInstruction(I,r,ir,Dt,pn);if(Me.errors&&Me.errors.length)return void ie.push(Me);if(pn)return W.onStart(()=>wr(Ne,Me.fromStyles)),W.onDestroy(()=>un(Ne,Me.toStyles)),void i.push(W);if(I.isFallbackTransition)return W.onStart(()=>wr(Ne,Me.fromStyles)),W.onDestroy(()=>un(Ne,Me.toStyles)),void i.push(W);const E5=[];Me.timelines.forEach(We=>{We.stretchStartingKeyframe=!0,this.disabledNodes.has(We.element)||E5.push(We)}),Me.timelines=E5,r.append(Ne,Me.timelines),o.push({instruction:Me,player:W,element:Ne}),Me.queriedElements.forEach(We=>xt(a,We,[]).push(W)),Me.preStyleProps.forEach((We,Ar)=>{if(We.size){let Vt=l.get(Ar);Vt||l.set(Ar,Vt=new Set),We.forEach((Zc,Fh)=>Vt.add(Fh))}}),Me.postStyleProps.forEach((We,Ar)=>{let Vt=u.get(Ar);Vt||u.set(Ar,Vt=new Set),We.forEach((Zc,Fh)=>Vt.add(Fh))})});if(ie.length){const E=[];ie.forEach(S=>{E.push(function CS(e,t){return new w(3505,!1)}())}),T.forEach(S=>S.destroy()),this.reportError(E)}const fe=new Map,Ze=new Map;o.forEach(E=>{const S=E.element;r.has(S)&&(Ze.set(S,S),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,fe))}),i.forEach(E=>{const S=E.element;this._getPreviousPlayers(S,!1,E.namespaceId,E.triggerName,null).forEach(W=>{xt(fe,S,[]).push(W),W.destroy()})});const Ct=v.filter(E=>Ck(E,l,u)),Kt=new Map;_k(Kt,this.driver,m,u,Pn).forEach(E=>{Ck(E,l,u)&&Ct.push(E)});const yo=new Map;f.forEach((E,S)=>{_k(yo,this.driver,new Set(E),l,"!")}),Ct.forEach(E=>{const S=Kt.get(E),I=yo.get(E);Kt.set(E,new Map([...S?.entries()??[],...I?.entries()??[]]))});const Sr=[],C5=[],D5={};o.forEach(E=>{const{element:S,player:I,instruction:W}=E;if(r.has(S)){if(d.has(S))return I.onDestroy(()=>un(S,W.toStyles)),I.disabled=!0,I.overrideTotalTime(W.totalTime),void i.push(I);let Ne=D5;if(Ze.size>1){let Dt=S;const ir=[];for(;Dt=Dt.parentNode;){const Me=Ze.get(Dt);if(Me){Ne=Me;break}ir.push(Dt)}ir.forEach(Me=>Ze.set(Me,Ne))}const pn=this._buildAnimation(I.namespaceId,W,fe,s,yo,Kt);if(I.setRealPlayer(pn),Ne===D5)Sr.push(I);else{const Dt=this.playersByElement.get(Ne);Dt&&Dt.length&&(I.parentPlayer=Qn(Dt)),i.push(I)}}else wr(S,W.fromStyles),I.onDestroy(()=>un(S,W.toStyles)),C5.push(I),d.has(S)&&i.push(I)}),C5.forEach(E=>{const S=s.get(E.element);if(S&&S.length){const I=Qn(S);E.setRealPlayer(I)}}),i.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy()});for(let E=0;E<v.length;E++){const S=v[E],I=S[Wt];if(Ti(S,fc),I&&I.hasAnimation)continue;let W=[];if(a.size){let pn=a.get(S);pn&&pn.length&&W.push(...pn);let Dt=this.driver.query(S,Ad,!0);for(let ir=0;ir<Dt.length;ir++){let Me=a.get(Dt[ir]);Me&&Me.length&&W.push(...Me)}}const Ne=W.filter(pn=>!pn.destroyed);Ne.length?bA(this,S,Ne):this.processLeaveNode(S)}return v.length=0,Sr.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();const S=this.players.indexOf(E);this.players.splice(S,1)}),E.play()}),Sr}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Js;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,n,r){const s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const u=l.element,d=u!==s,h=xt(r,u,[]);this._getPreviousPlayers(u,d,o,a,n.toState).forEach(f=>{const y=f.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),f.destroy(),h.push(f)})}wr(s,n.fromStyles)}_buildAnimation(t,n,r,i,s,o){const a=n.triggerName,l=n.element,u=[],d=new Set,h=new Set,p=n.timelines.map(y=>{const g=y.element;d.add(g);const v=g[Wt];if(v&&v.removedBeforeQueried)return new Ws(y.duration,y.delay);const k=g!==l,m=function CA(e){const t=[];return bk(e,t),t}((r.get(g)||mA).map(fe=>fe.getRealPlayer())).filter(fe=>!!fe.element&&fe.element===g),b=s.get(g),C=o.get(g),T=ek(this._normalizer,y.keyframes,b,C),ie=this._buildPlayer(y,T,m);if(y.subTimeline&&i&&h.add(g),k){const fe=new Bd(t,a,g);fe.setRealPlayer(ie),u.push(fe)}return ie});u.forEach(y=>{xt(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function wA(e,t,n){let r=e.get(t);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,y.element,y))}),d.forEach(y=>Ft(y,ak));const f=Qn(p);return f.onDestroy(()=>{d.forEach(y=>Ti(y,ak)),un(l,n.toStyles)}),h.forEach(y=>{xt(i,y,[]).push(f)}),f}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new Ws(t.duration,t.delay)}}class Bd{constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Ws,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>xd(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){xt(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function Cc(e){return e&&1===e.nodeType}function wk(e,t){const n=e.style.display;return e.style.display=t??"none",n}function _k(e,t,n,r,i){const s=[];n.forEach(l=>s.push(wk(l)));const o=[];r.forEach((l,u)=>{const d=new Map;l.forEach(h=>{const p=t.computeStyle(u,h,i);d.set(h,p),(!p||0==p.length)&&(u[Wt]=vA,o.push(u))}),e.set(u,d)});let a=0;return n.forEach(l=>wk(l,s[a++])),o}function xk(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const i=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=n.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function Ft(e,t){e.classList?.add(t)}function Ti(e,t){e.classList?.remove(t)}function bA(e,t,n){Qn(n).onDone(()=>e.processLeaveNode(t))}function bk(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof Jv?bk(r.players,t):t.push(r)}}function Ck(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(s=>i.add(s)):t.set(e,r),n.delete(e),!0}class Dc{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new MA(t,n,r),this._timelineEngine=new hA(t,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,n,r,i,s){const o=t+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],d=Nd(this._driver,s,l,[]);if(l.length)throw function fS(e,t){return new w(3404,!1)}();a=function cA(e,t,n){return new lA(e,t,n)}(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r){this._transitionEngine.removeNode(t,n,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if("@"==r.charAt(0)){const[s,o]=tk(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=tk(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let SA=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&un(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(un(this._element,this._initialStyles),this._endStyles&&(un(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(wr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wr(this._element,this._endStyles),this._endStyles=null),un(this._element,this._initialStyles),this._state=3)}}return e})();function $d(e){let t=null;return e.forEach((n,r)=>{(function AA(e){return"display"===e||"position"===e})(r)&&(t=t||new Map,t.set(r,n))}),t}class Dk{constructor(t,n,r,i){this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(t,n,r){return t.animate(this._convertKeyframesToObject(n),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:dk(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class TA{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return rk(t,n)}getParentElement(t){return Dd(t)}query(t,n,r){return ik(t,n,r)}computeStyle(t,n,r){return window.getComputedStyle(t)[n]}animate(t,n,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,d=o.filter(f=>f instanceof Dk);(function RS(e,t){return 0===e||0===t})(r,i)&&d.forEach(f=>{f.currentSnapshot.forEach((y,g)=>u.set(g,y))});let h=function OS(e){return e.length?e[0]instanceof Map?e:e.map(t=>ck(t)):[]}(n).map(f=>Yn(f));h=function VS(e,t,n){if(n.size&&t.length){let r=t[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<t.length;s++){let o=t[s];i.forEach(a=>o.set(a,dk(e,a)))}}return t}(t,h,u);const p=function EA(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=$d(t[0]),t.length>1&&(r=$d(t[t.length-1]))):t instanceof Map&&(n=$d(t)),n||r?new SA(e,n,r):null}(t,h);return new Dk(t,h,l,p)}}let IA=(()=>{class e extends Wv{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:At.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?Qv(n):n;return Ek(this._renderer,null,r,"register",[i]),new PA(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||e)(R(ws),R(An))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})();class PA extends UE{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new NA(this._id,t,n||{},this._renderer)}}class NA{constructor(t,n,r,i){this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return Ek(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ek(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const Sk="@.disabled";let OA=(()=>{class e{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let d=this._rendererCache.get(s);return d||(d=new Ak("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(o,a,n,d.name,d)};return r.data.animation.forEach(l),new FA(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||e)(R(ws),R(Dc),R(ge))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})();class Ak{constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){"@"==n.charAt(0)&&n==Sk?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r){return this.delegate.listen(t,n,r)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class FA extends Ak{constructor(t,n,r,i,s){super(n,r,i,s),this.factory=t,this.namespaceId=n}setProperty(t,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Sk?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r){if("@"==n.charAt(0)){const i=function LA(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function RA(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,n,r)}}const Tk=[{provide:Wv,useClass:IA},{provide:Vd,useFactory:function jA(){return new iA}},{provide:Dc,useClass:(()=>{class e extends Dc{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||e)(R(An),R(Ed),R(Vd),R(Ei))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac})}return e})()},{provide:ws,useFactory:function HA(e,t,n){return new OA(e,t,n)},deps:[vd,Dc,ge]}],Ud=[{provide:Ed,useFactory:()=>new TA},{provide:Hf,useValue:"BrowserAnimations"},...Tk],Ik=[{provide:Ed,useClass:sk},{provide:Hf,useValue:"NoopAnimations"},...Tk];let zA=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?Ik:Ud}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ht({type:e});static#n=this.\u0275inj=St({providers:Ud,imports:[$v]})}return e})();const{isArray:qA}=Array,{getPrototypeOf:BA,prototype:$A,keys:UA}=Object;const{isArray:WA}=Array;function YA(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function JA(...e){const t=function k3(e){return z(sl(e))?e.pop():void 0}(e),{args:n,keys:r}=function GA(e){if(1===e.length){const t=e[0];if(qA(t))return{args:t,keys:null};if(function ZA(e){return e&&"object"==typeof e&&BA(e)===$A}(t)){const n=UA(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e),i=new Ke(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let d=0;d<o;d++){let h=!1;Qt(n[d]).subscribe(yn(s,p=>{h||(h=!0,u--),a[d]=p},()=>l--,void 0,()=>{(!l||!h)&&(u||s.next(r?YA(r,a):a),s.complete())}))}});return t?i.pipe(function QA(e){return ko(t=>function KA(e,t){return WA(t)?e(...t):e(t)}(e,t))}(t)):i}let Pk=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||e)(x(Gn),x(kt))};static#t=this.\u0275dir=V({type:e})}return e})(),xr=(()=>{class e extends Pk{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function He(e){return gn(()=>{const t=e.prototype.constructor,n=t[mn]||Ul(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[mn]||Ul(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(i||e)}}();static#t=this.\u0275dir=V({type:e,features:[ne]})}return e})();const dn=new A("NgValueAccessor"),eT={provide:dn,useExisting:ae(()=>Xs),multi:!0},nT=new A("CompositionEventMode");let Xs=(()=>{class e extends Pk{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tT(){const e=Bs()?Bs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||e)(x(Gn),x(kt),x(nT,8))};static#t=this.\u0275dir=V({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ve("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[me([eT]),ne]})}return e})();function Jn(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Ok(e){return null!=e&&"number"==typeof e.length}const Ue=new A("NgValidators"),Xn=new A("NgAsyncValidators"),rT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fk{static min(t){return function Lk(e){return t=>{if(Jn(t.value)||Jn(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function Rk(e){return t=>{if(Jn(t.value)||Jn(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function Vk(e){return Jn(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function jk(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function Hk(e){return Jn(e.value)||rT.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function zk(e){return t=>Jn(t.value)||!Ok(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function qk(e){return t=>Ok(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Bk(e){if(!e)return Sc;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Jn(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return Kk(t)}static composeAsync(t){return Qk(t)}}function Sc(e){return null}function $k(e){return null!=e}function Uk(e){return La(e)?Mo(e):e}function Gk(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function Zk(e,t){return t.map(n=>n(e))}function Wk(e){return e.map(t=>function iT(e){return!e.validate}(t)?t:n=>t.validate(n))}function Kk(e){if(!e)return null;const t=e.filter($k);return 0==t.length?null:function(n){return Gk(Zk(n,t))}}function Gd(e){return null!=e?Kk(Wk(e)):null}function Qk(e){if(!e)return null;const t=e.filter($k);return 0==t.length?null:function(n){return JA(Zk(n,t).map(Uk)).pipe(ko(Gk))}}function Zd(e){return null!=e?Qk(Wk(e)):null}function Yk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Jk(e){return e._rawValidators}function Xk(e){return e._rawAsyncValidators}function Wd(e){return e?Array.isArray(e)?e:[e]:[]}function Ac(e,t){return Array.isArray(e)?e.includes(t):e===t}function e4(e,t){const n=Wd(t);return Wd(e).forEach(i=>{Ac(n,i)||n.push(i)}),n}function t4(e,t){return Wd(t).filter(n=>!Ac(e,n))}class n4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Gd(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Zd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class it extends n4{get formDirective(){return null}get path(){return null}}class er extends n4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class r4{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kd=(()=>{class e extends r4{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(x(er,2))};static#t=this.\u0275dir=V({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Va("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ne]})}return e})(),Qd=(()=>{class e extends r4{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(x(it,10))};static#t=this.\u0275dir=V({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Va("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ne]})}return e})();const eo="VALID",Ic="INVALID",Ii="PENDING",to="DISABLED";function Xd(e){return(Pc(e)?e.validators:e)||null}function eh(e,t){return(Pc(t)?t.asyncValidators:e)||null}function Pc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function s4(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new w(1e3,"");if(!r[n])throw new w(1001,"")}function o4(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new w(1002,"")})}class Nc{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===eo}get invalid(){return this.status===Ic}get pending(){return this.status==Ii}get disabled(){return this.status===to}get enabled(){return this.status!==to}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(e4(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(e4(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(t4(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(t4(t,this._rawAsyncValidators))}hasValidator(t){return Ac(this._rawValidators,t)}hasAsyncValidator(t){return Ac(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ii,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=to,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=eo,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eo||this.status===Ii)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?to:eo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ii,this._hasOwnPendingAsyncValidator=!0;const n=Uk(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?to:this.errors?Ic:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ii)?Ii:this._anyControlsHaveStatus(Ic)?Ic:eo}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Pc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function cT(e){return Array.isArray(e)?Gd(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function lT(e){return Array.isArray(e)?Zd(e):e||null}(this._rawAsyncValidators)}}class Pi extends Nc{constructor(t,n,r){super(Xd(n),eh(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){o4(this,0,t),Object.keys(t).forEach(r=>{s4(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class a4 extends Pi{}const br=new A("CallSetDisabledState",{providedIn:"root",factory:()=>no}),no="always";function ro(e,t,n=no){th(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function dT(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&c4(e,t)})}(e,t),function pT(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function hT(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&c4(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function uT(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Fc(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Rc(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Lc(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function th(e,t){const n=Jk(e);null!==t.validator?e.setValidators(Yk(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=Xk(e);null!==t.asyncValidator?e.setAsyncValidators(Yk(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Lc(t._rawValidators,i),Lc(t._rawAsyncValidators,i)}function Rc(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=Jk(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.validator);s.length!==i.length&&(n=!0,e.setValidators(s))}}if(null!==t.asyncValidator){const i=Xk(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(n=!0,e.setAsyncValidators(s))}}}const r=()=>{};return Lc(t._rawValidators,r),Lc(t._rawAsyncValidators,r),n}function c4(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function d4(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function h4(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Cr=class extends Nc{constructor(t=null,n,r){super(Xd(n),eh(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=h4(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){d4(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){d4(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){h4(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let m4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=V({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})(),k4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ht({type:e});static#n=this.\u0275inj=St({})}return e})();const oh=new A("NgModelWithFormControlWarning"),ET={provide:it,useExisting:ae(()=>so)};let so=(()=>{class e extends it{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return ro(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Fc(n.control||null,n,!1),function mT(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function u4(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Fc(r||null,n),(e=>e instanceof Cr)(i)&&(ro(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function l4(e,t){th(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function fT(e,t){return Rc(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){th(this.form,this),this._oldForm&&Rc(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||e)(x(Ue,10),x(Xn,10),x(br,8))};static#t=this.\u0275dir=V({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Ve("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[me([ET]),ne,en]})}return e})();const TT={provide:er,useExisting:ae(()=>Vc)};let Vc=(()=>{class e extends er{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ih(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===Xs?n=s:function gT(e){return Object.getPrototypeOf(e.constructor)===xr}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function rh(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Oc(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||e)(x(it,13),x(Ue,10),x(Xn,10),x(dn,10),x(oh,8))};static#n=this.\u0275dir=V({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[me([TT]),ne,en]})}return e})(),F4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ht({type:e});static#n=this.\u0275inj=St({imports:[k4]})}return e})();class L4 extends Nc{constructor(t,n,r){super(Xd(n),eh(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){o4(this,0,t),t.forEach((r,i)=>{s4(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function R4(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let UT=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return R4(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Pi(i,s)}record(n,r=null){const i=this._reduceControls(n);return new a4(i,r)}control(n,r,i){let s={};return this.useNonNullable?(R4(r)?s=r:(s.validators=r,s.asyncValidators=i),new Cr(n,{...s,nonNullable:!0})):new Cr(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new L4(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Cr||n instanceof Nc?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),GT=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:br,useValue:n.callSetDisabledState??no}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ht({type:e});static#n=this.\u0275inj=St({imports:[F4]})}return e})(),ZT=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:oh,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:br,useValue:n.callSetDisabledState??no}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ht({type:e});static#n=this.\u0275inj=St({imports:[F4]})}return e})();class WT extends Se{constructor(t,n){super()}schedule(t,n=0){return this}}const jc={setInterval(e,t,...n){const{delegate:r}=jc;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=jc;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},V4={now:()=>(V4.delegate||Date).now(),delegate:void 0};class oo{constructor(t,n=oo.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}oo.now=V4.now;const YT=new class QT extends oo{constructor(t,n=oo.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class KT extends WT{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return jc.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&jc.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,sr(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});function j4(e){return fn((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}class XT{constructor(t,n){this.id=crypto.randomUUID(),this.message=t.message,this.onClose=n,this.set(t)}set(t){return t.state&&(this.state=t.state),this}close(){this.onClose(this.id)}}const eI=[function GE(e,t){return{type:7,name:e,definitions:t,options:{}}}("notification",[Yv(":enter",[Ai({height:0,opacity:0,scale:.8,margin:"0 0 0 0"}),Kv("250ms cubic-bezier(0, 0, 0.2, 1)",Ai({height:"*",opacity:1,scale:1,margin:"0 0 1rem 0"}))]),Yv(":leave",[Ai({height:"*",opacity:1,margin:"0 0 1rem 0"}),Kv("250ms linear",Ai({height:0,opacity:0,margin:"0 0 0 0"}))])])];let H4=(()=>{class e{constructor(){this.notifications=[],this.notificationsChange=new a2(this.notifications),this.onNotificationsChange=this.notificationsChange.asObservable()}open(n){const r=new XT(n,i=>this.notifications.splice(this.notifications.findIndex(s=>s.id===i),1));return this.notifications.push(r),r}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class hh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class nI extends hh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rI extends hh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class iI extends hh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}class oI{constructor(t,{headers:n={},customFetch:r}={}){this.url=t,this.headers=n,this.fetch=(e=>{let t;return t=e||(typeof fetch>"u"?(...n)=>Promise.resolve().then(we.t.bind(we,470,23)).then(({default:r})=>r(...n)):fetch),(...n)=>t(...n)})(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l,a={};o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):"string"==typeof o?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(f=>{throw new nI(f)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new rI(u);if(!u.ok)throw new iI(u);let p,h=(null!==(r=u.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return p="application/json"===h?yield u.json():"application/octet-stream"===h?yield u.blob():"multipart/form-data"===h?yield u.formData():yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}function z4(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function M(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){z4(s,r,i,o,a,"next",l)}function a(l){z4(s,r,i,o,a,"throw",l)}o(void 0)})}}var q4=we(470),B4=we.n(q4);class aI{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,this.fetch=t.fetch?t.fetch:typeof fetch>"u"?B4():fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var o=M(function*(a){var l,u,d;let h=null,p=null,f=null,y=a.status,g=a.statusText;if(a.ok){if("HEAD"!==r.method){const b=yield a.text();""===b||(p="text/csv"===r.headers.Accept||r.headers.Accept&&r.headers.Accept.includes("application/vnd.pgrst.plan+text")?b:JSON.parse(b))}const k=null===(l=r.headers.Prefer)||void 0===l?void 0:l.match(/count=(exact|planned|estimated)/),m=null===(u=a.headers.get("content-range"))||void 0===u?void 0:u.split("/");k&&m&&m.length>1&&(f=parseInt(m[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,f=null,y=406,g="Not Acceptable"):p=1===p.length?p[0]:null)}else{const k=yield a.text();try{h=JSON.parse(k),Array.isArray(h)&&404===a.status&&(p=[],h=null,y=200,g="OK")}catch{404===a.status&&""===k?(y=204,g="No Content"):h={message:k}}if(h&&r.isMaybeSingle&&!(null===(d=h?.details)||void 0===d)&&d.includes("Results contain 0 rows")&&(h=null,y=200,g="OK"),h&&r.shouldThrowOnError)throw h}return{error:h,data:p,count:f,status:y,statusText:g}});return function(a){return o.apply(this,arguments)}}());return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,u;return{error:{message:`${null!==(a=o?.name)&&void 0!==a?a:"FetchError"}: ${o?.message}`,details:`${null!==(l=o?.stack)&&void 0!==l?l:""}`,hint:"",code:`${null!==(u=o?.code)&&void 0!==u?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}}class cI extends aI{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":('"'===i&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n}={}){return this.url.searchParams.set(typeof n>"u"?"limit":`${n}.limit`,`${t}`),this}range(t,n,{foreignTable:r}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(typeof r>"u"?"offset":`${r}.offset`,`${t}`),this.url.searchParams.set(s,""+(n-t+1)),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|");return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${this.headers.Accept}"; options=${a};`,this}rollback(){var t;return(null!==(t=this.headers.Prefer)&&void 0!==t?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ni extends cI{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=n.map(i=>"string"==typeof i&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return"string"==typeof n?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return"string"==typeof n?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return this.url.searchParams.append(t,"string"==typeof n?`ov.${n}`:`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";return"plain"===i?s="pl":"phrase"===i?s="ph":"websearch"===i&&(s="w"),this.url.searchParams.append(t,`${s}fts${void 0===r?"":`(${r})`}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n}={}){return this.url.searchParams.append(n?`${n}.or`:"or",`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}}class lI{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":('"'===a&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ni({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ni({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==n&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ni({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Ni({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ni({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const uI={"X-Client-Info":"postgrest-js/1.8.4"};class ph{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},uI),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new lI(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ph(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let a;r?(s="HEAD",Object.entries(n).forEach(([u,d])=>{o.searchParams.append(u,`${d}`)})):(s="POST",a=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Ni({method:s,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}var dI=we(624);const hI={"X-Client-Info":"realtime-js/2.8.0"};var Hc=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Hc||{}),Lt=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Lt||{}),hn=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(hn||{}),U4=function(e){return e.websocket="websocket",e}(U4||{}),Oi=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Oi||{});class G4{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class yI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n("string"==typeof t?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o+=i;const l=r.decode(t.slice(o,o+s));return o+=s,{ref:null,topic:a,event:l,payload:JSON.parse(r.decode(t.slice(o,t.byteLength)))}}}class fh{constructor(t,n,r={},i=1e4){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})&&(this.rateLimited=!0))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}class ao{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ao.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ao.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ao.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=s[u];if(h){const p=d.map(v=>v.presence_ref),f=h.map(v=>v.presence_ref),y=d.filter(v=>f.indexOf(v.presence_ref)<0),g=h.filter(v=>p.indexOf(v.presence_ref)<0);y.length>0&&(a[u]=y),g.length>0&&(l[u]=g)}else a[u]=d}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const d=null!==(u=t[a])&&void 0!==u?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,i(a,u,l),0===u.length&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return n[r]="metas"in i?i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pe=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(pe||{});const Z4=(e,t,n={})=>{var r;const i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=mI(o,e,t,i),s),{})},mI=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?W4(s,o):yh(o)},W4=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return wI(t,n)}switch(e){case pe.bool:return vI(t);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return kI(t);case pe.json:case pe.jsonb:return MI(t);case pe.timestamp:return _I(t);default:return yh(t)}},yh=e=>e,vI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kI=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MI=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wI=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1;if("{"===e[0]&&"}"===e[n]){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>W4(t,a))}return e},_I=e=>"string"==typeof e?e.replace(" ","T"):e;class gh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new fh(this,hn.join,this.params,this.timeout),this.rejoinTimer=new G4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ao(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:null!==(i=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(u=>u.filter))&&void 0!==i?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==u){const h=this.bindings.postgres_changes,p=null!==(d=h?.length)&&void 0!==d?d:0,f=[];for(let y=0;y<p;y++){const g=h[y],{filter:{event:v,schema:k,table:m,filter:b}}=g,C=u&&u[y];if(!C||C.event!==v||C.schema!==k||C.table!==m||C.filter!==b)return this.unsubscribe(),void(t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));f.push(Object.assign(Object.assign({},g),{id:C.id}))}return this.bindings.postgres_changes=f,void(t&&t("SUBSCRIBED"))}t&&t("SUBSCRIBED")}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(t,n={}){var r=this;return M(function*(){return yield r.send({type:"presence",event:"track",payload:t},n.timeout||r.timeout)})()}untrack(t={}){var n=this;return M(function*(){return yield n.send({type:"presence",event:"untrack"},t)})()}on(t,n,r){return this._on(t,n,r)}send(t,n={}){var r=this;return M(function*(){var i,s;if(r._canPush()||"broadcast"!==t.type)return new Promise(o=>{var a,l,u;const d=r._push(t.type,t,n.timeout||r.timeout);d.rateLimited&&o("rate limited"),"broadcast"===t.type&&!(null!==(u=null===(l=null===(a=r.params)||void 0===a?void 0:a.config)||void 0===l?void 0:l.broadcast)&&void 0!==u&&u.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("timeout",()=>o("timed out"))});{const{event:o,payload:a}=t,l={method:"POST",headers:{apikey:null!==(i=r.socket.accessToken)&&void 0!==i?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:r.subTopic,event:o,payload:a}]})};try{return(yield r._fetchWithTimeout(r.broadcastEndpointURL,l,null!==(s=n.timeout)&&void 0!==s?s:r.timeout)).ok?"ok":"error"}catch(u){return"AbortError"===u.name?"timed out":"error"}}})()}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new fh(this,hn.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(t,n,r){var i=this;return M(function*(){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=yield i.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a})()}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new fh(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=hn;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(f=>{var y,g,v;return"*"===(null===(y=f.filter)||void 0===y?void 0:y.event)||(null===(v=null===(g=f.filter)||void 0===g?void 0:g.event)||void 0===v?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(p,r)):null===(s=this.bindings[o])||void 0===s||s.filter(f=>{var y,g,v,k,m,b;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in f){const C=f.id,T=null===(y=f.filter)||void 0===y?void 0:y.event;return C&&(null===(g=n.ids)||void 0===g?void 0:g.includes(C))&&("*"===T||T?.toLocaleLowerCase()===(null===(v=n.data)||void 0===v?void 0:v.type.toLocaleLowerCase()))}{const C=null===(m=null===(k=f?.filter)||void 0===k?void 0:k.event)||void 0===m?void 0:m.toLocaleLowerCase();return"*"===C||C===(null===(b=n?.event)||void 0===b?void 0:b.toLocaleLowerCase())}}return f.type.toLocaleLowerCase()===o}).map(f=>{if("object"==typeof p&&"ids"in p){const y=p.data,{schema:g,table:v,commit_timestamp:k,type:m,errors:b}=y;p=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:k,eventType:m,new:{},old:{},errors:b}),this._getPayloadRecords(y))}f.callback(p,r)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!((null===(s=i.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&gh.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hn.close,{},t)}_onError(t){this._on(hn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return("INSERT"===t.type||"UPDATE"===t.type)&&(n.new=Z4(t.columns,t.record)),("UPDATE"===t.type||"DELETE"===t.type)&&(n.old=Z4(t.columns,t.old_record)),n}}const DI=()=>{};class EI{constructor(t,n){var i,s,r=this;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=hI,this.params={},this.timeout=1e4,this.transport=dI.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=DI,this.conn=null,this.sendBuffer=[],this.serializer=new yI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this._resolveFetch=l=>{let u;return u=l||(typeof fetch>"u"?(...d)=>Promise.resolve().then(we.t.bind(we,470,23)).then(({default:h})=>h(...d)):fetch),(...d)=>u(...d)},this.endPoint=`${t}/${U4.websocket}`,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.transport&&(this.transport=n.transport),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=null===(i=n?.params)||void 0===i?void 0:i.eventsPerSecond;o&&(this.eventsPerSecondLimitMs=Math.floor(1e3/o));const a=null===(s=n?.params)||void 0===s?void 0:s.apikey;a&&(this.accessToken=a),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n?.encode?n.encode:(l,u)=>u(JSON.stringify(l)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new G4(M(function*(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){var n=this;return M(function*(){const r=yield t.unsubscribe();return 0===n.channels.length&&n.disconnect(),r})()}removeAllChannels(){var t=this;return M(function*(){const n=yield Promise.all(t.channels.map(r=>r.unsubscribe()));return t.disconnect(),n})()}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hc.connecting:return Oi.Connecting;case Hc.open:return Oi.Open;case Hc.closing:return Oi.Closing;default:return Oi.Closed}}isConnected(){return this.connectionState()===Oi.Open}channel(t,n={config:{}}){const r=new gh(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t;let o=()=>{this.encode(t,a=>{var l;null===(l=this.conn)||void 0===l||l.send(a)})};if(this.log("push",`${n} ${r} (${s})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(hn.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return this.ref=t===this.ref?0:t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(hn.error))}_appendParams(t,n){if(0===Object.keys(n).length)return t;const r=t.match(/\?/)?"&":"?";return`${t}${r}${new URLSearchParams(n)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,n=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(t(),n>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},n)),!1)}}class mh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ge(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class SI extends mh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class K4 extends mh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Q4=e=>{let t;return t=e||(typeof fetch>"u"?(...n)=>Promise.resolve().then(we.t.bind(we,470,23)).then(({default:r})=>r(...n)):fetch),(...n)=>t(...n)};var Fi=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const vh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),II=(e,t)=>Fi(void 0,void 0,void 0,function*(){const n=yield function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(we.t.bind(we,470,23))).Response:Response});e instanceof n?e.json().then(r=>{t(new SI(vh(r),e.status||500))}).catch(r=>{t(new K4(vh(r),r))}):t(new K4(vh(e),e))}),PI=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function zc(e,t,n,r,i,s){return Fi(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,PI(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>II(l,a))})})}function kh(e,t,n,r){return Fi(this,void 0,void 0,function*(){return zc(e,"GET",t,n,r)})}function tr(e,t,n,r,i){return Fi(this,void 0,void 0,function*(){return zc(e,"POST",t,r,i,n)})}function NI(e,t,n,r,i){return Fi(this,void 0,void 0,function*(){return zc(e,"PUT",t,r,i,n)})}function Y4(e,t,n,r,i){return Fi(this,void 0,void 0,function*(){return zc(e,"DELETE",t,r,i,n)})}var Rt=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const OI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},J4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FI{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Q4(i)}uploadOrUpdate(t,n,r,i){return Rt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},J4),i),a=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{}));return d.ok?{data:{path:l},error:null}:{data:null,error:yield d.json()}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Rt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:J4.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d});return h.ok?{data:{path:s},error:null}:{data:null,error:yield h.json()}}catch(l){if(Ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t){return Rt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=yield tr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),i=new URL(this.url+r.url),s=i.searchParams.get("token");if(!s)throw new mh("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:s},error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}update(t,n,r){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n){return Rt(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}copy(t,n){return Rt(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,r){return Rt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield tr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Rt(this,void 0,void 0,function*(){try{const i=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}download(t,n){return Rt(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield kh(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${!0===n.download?"":n.download}`:"";""!==s&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});""!==l&&i.push(l);let u=i.join("&");return""!==u&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Rt(this,void 0,void 0,function*(){try{return{data:yield Y4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}list(t,n,r){return Rt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},OI),n),{prefix:t||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const LI={"X-Client-Info":"storage-js/2.5.4"};var Li=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class RI{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},LI),n),this.fetch=Q4(r)}listBuckets(){return Li(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return Li(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Li(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Li(this,void 0,void 0,function*(){try{return{data:yield NI(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Li(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Li(this,void 0,void 0,function*(){try{return{data:yield Y4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}}class VI extends RI{constructor(t,n={},r){super(t,n,r)}from(t){return new FI(this.url,this.headers,t,this.fetch)}}let co="";co=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const HI={"X-Client-Info":`supabase-js-${co}/2.38.0`};const $I=(e,t,n)=>{const r=(e=>{let t;return t=e||(typeof fetch>"u"?B4():fetch),(...n)=>t(...n)})(n),i=typeof Headers>"u"?q4.Headers:Headers;return(s,o)=>function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(void 0,void 0,void 0,function*(){var a;const l=null!==(a=yield t())&&void 0!==a?a:e;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})},On=()=>typeof document<"u",Er={tested:!1,writable:!1},lo=()=>{if(!On())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Er.tested)return Er.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Er.tested=!0,Er.writable=!0}catch{Er.tested=!0,Er.writable=!1}return Er.writable};function Mh(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const X4=e=>{let t;return t=e||(typeof fetch>"u"?(...n)=>Promise.resolve().then(we.t.bind(we,470,23)).then(({default:r})=>r(...n)):fetch),(...n)=>t(...n)},KI=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Ri=function(){var e=M(function*(t,n,r){yield t.setItem(n,JSON.stringify(r))});return function(n,r,i){return e.apply(this,arguments)}}(),qc=function(){var e=M(function*(t,n){const r=yield t.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(n,r){return e.apply(this,arguments)}}(),wh=function(){var e=M(function*(t,n){yield t.removeItem(n)});return function(n,r){return e.apply(this,arguments)}}();class Bc{constructor(){this.promise=new Bc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}function e5(e){const n=e.split(".");if(3!==n.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function QI(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,i,s,o,a,l,u,n="",d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|a>>4,i=(15&a)<<4|l>>2,s=(3&l)<<6|u,n+=String.fromCharCode(r),64!=l&&0!=i&&(n+=String.fromCharCode(i)),64!=u&&0!=s&&(n+=String.fromCharCode(s));return n}(n[1]))}function _h(){return(_h=M(function*(e){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})).apply(this,arguments)}function XI(e){return("0"+e.toString(16)).substr(-2)}function uo(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,XI).join("")}function xh(){return(xh=M(function*(e){const n=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})).apply(this,arguments)}function ho(e){return bh.apply(this,arguments)}function bh(){return bh=M(function*(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=yield function eP(e){return xh.apply(this,arguments)}(e);return function tP(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(t)}),bh.apply(this,arguments)}Bc.promiseConstructor=Promise;class Ch extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function Z(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class nP extends Ch{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class t5 extends Ch{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Vi extends Ch{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ji extends Vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Dh extends Vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class $c extends Vi{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Uc extends Vi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class n5 extends Vi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eh extends Vi{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function r5(e){return Z(e)&&"AuthRetryableFetchError"===e.name}const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sP=[502,503,504];function i5(e){return Sh.apply(this,arguments)}function Sh(){return(Sh=M(function*(e){if(!KI(e))throw new Eh(po(e),0);if(sP.includes(e.status))throw new Eh(po(e),e.status);let t;try{t=yield e.json()}catch(n){throw new t5(po(n),n)}throw new nP(po(t),e.status||500)})).apply(this,arguments)}const oP=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function Q(e,t,n,r){return Ah.apply(this,arguments)}function Ah(){return Ah=M(function*(e,t,n,r){var i;const s=Object.assign({},r?.headers);r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield function aP(e,t,n,r,i,s){return Th.apply(this,arguments)}(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}),Ah.apply(this,arguments)}function Th(){return(Th=M(function*(e,t,n,r,i,s){const o=oP(t,r,i,s);let a;try{a=yield e(n,o)}catch(l){throw console.error(l),new Eh(po(l),0)}if(a.ok||(yield i5(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield i5(l)}})).apply(this,arguments)}function nr(e){var t;let n=null;return function dP(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=function ZI(e){return Math.round(Date.now()/1e3)+e}(e.expires_in))),{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function rr(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function cP(e){return{data:e,error:null}}function lP(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},user:Object.assign({},o)},error:null}}function uP(e){return e}class pP{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=X4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,n="global"){var r=this;return M(function*(){try{return yield Q(r.fetch,"POST",`${r.url}/logout?scope=${n}`,{headers:r.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})()}inviteUserByEmail(t,n={}){var r=this;return M(function*(){try{return yield Q(r.fetch,"POST",`${r.url}/invite`,{body:{email:t,data:n.data},headers:r.headers,redirectTo:n.redirectTo,xform:rr})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})()}generateLink(t){var n=this;return M(function*(){try{const{options:r}=t,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),yield Q(n.fetch,"POST",`${n.url}/admin/generate_link`,{body:s,headers:n.headers,xform:lP,redirectTo:r?.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(t){var n=this;return M(function*(){try{return yield Q(n.fetch,"POST",`${n.url}/admin/users`,{body:t,headers:n.headers,xform:rr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})()}listUsers(t){var n=this;return M(function*(){var r,i,s,o,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=yield Q(n.fetch,"GET",`${n.url}/admin/users`,{headers:n.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=t?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(o=null===(s=t?.perPage)||void 0===s?void 0:s.toString())&&void 0!==o?o:""},xform:uP});if(h.error)throw h.error;const p=yield h.json(),f=null!==(a=h.headers.get("x-total-count"))&&void 0!==a?a:0,y=null!==(u=null===(l=h.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==u?u:[];return y.length>0&&(y.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(g.split(";")[1].split("=")[1]);d[`${k}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Z(d))return{data:{users:[]},error:d};throw d}})()}getUserById(t){var n=this;return M(function*(){try{return yield Q(n.fetch,"GET",`${n.url}/admin/users/${t}`,{headers:n.headers,xform:rr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})()}updateUserById(t,n){var r=this;return M(function*(){try{return yield Q(r.fetch,"PUT",`${r.url}/admin/users/${t}`,{body:n,headers:r.headers,xform:rr})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})()}deleteUser(t,n=!1){var r=this;return M(function*(){try{return yield Q(r.fetch,"DELETE",`${r.url}/admin/users/${t}`,{headers:r.headers,body:{should_soft_delete:n},xform:rr})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})()}_listFactors(t){var n=this;return M(function*(){try{const{data:r,error:i}=yield Q(n.fetch,"GET",`${n.url}/admin/users/${t.userId}/factors`,{headers:n.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}_deleteFactor(t){var n=this;return M(function*(){try{return{data:yield Q(n.fetch,"DELETE",`${n.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:n.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}}const mP={getItem:e=>lo()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{lo()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{lo()&&globalThis.localStorage.removeItem(e)}};function a5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}globalThis&&lo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class kP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}!function vP(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const wP={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.54.2"},flowType:"implicit",debug:!1},fo=3e4;function _P(e,t,n){return Ph.apply(this,arguments)}function Ph(){return(Ph=M(function*(e,t,n){return yield n()})).apply(this,arguments)}let xP=(()=>{class e{constructor(n){var i,r=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&On()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wP),n);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new pP({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=X4(s.fetch),this.lock=s.lock||_P,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:lo()?this.storage=mP:(this.memoryStorage={},this.storage=a5(this.memoryStorage)):(this.memoryStorage={},this.storage=a5(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(i=this.broadcastChannel)||void 0===i||i.addEventListener("message",function(){var o=M(function*(a){r._debug("received broadcast notification from other tab or client",a),yield r._notifyAllSubscribers(a.data.event,a.data.session,!1)});return function(a){return o.apply(this,arguments)}}())}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.54.2) ${(new Date).toISOString()}`,...n),this}initialize(){var n=this;return M(function*(){return n.initializePromise||(n.initializePromise=M(function*(){return yield n._acquireLock(-1,M(function*(){return yield n._initialize()}))})()),yield n.initializePromise})()}_initialize(){var n=this;return M(function*(){try{const r=!!On()&&(yield n._isPKCEFlow());if(n._debug("#_initialize()","begin","is PKCE flow",r),r||n.detectSessionInUrl&&n._isImplicitGrantFlow()){const{data:i,error:s}=yield n._getSessionFromURL(r);if(s)return n._debug("#_initialize()","error detecting session from URL",s),yield n._removeSession(),{error:s};const{session:o,redirectType:a}=i;return n._debug("#_initialize()","detected session in URL",o,"redirect type",a),yield n._saveSession(o),setTimeout(M(function*(){"recovery"===a?yield n._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield n._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield n._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new t5("Unexpected error during initialization",r)}}finally{yield n._handleVisibilityChange(),n._debug("#_initialize()","end")}})()}signUp(n){var r=this;return M(function*(){var i,s,o;try{let a;if(yield r._removeSession(),"email"in n){const{email:p,password:f,options:y}=n;let g=null,v=null;if("pkce"===r.flowType){const k=uo();yield Ri(r.storage,`${r.storageKey}-code-verifier`,k),g=yield ho(k),v=k===g?"plain":"s256"}a=yield Q(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:f,data:null!==(i=y?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:v},xform:nr})}else{if(!("phone"in n))throw new $c("You must provide either an email or phone number and a password");{const{phone:p,password:f,options:y}=n;a=yield Q(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:p,password:f,data:null!==(s=y?.data)&&void 0!==s?s:{},channel:null!==(o=y?.channel)&&void 0!==o?o:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:nr})}}const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,h=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(n){var r=this;return M(function*(){try{let i;if(yield r._removeSession(),"email"in n){const{email:a,password:l,options:u}=n;i=yield Q(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:nr})}else{if(!("phone"in n))throw new $c("You must provide either an email or phone number and a password");{const{phone:a,password:l,options:u}=n;i=yield Q(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:nr})}}const{data:s,error:o}=i;return o?{data:{user:null,session:null},error:o}:s&&s.session&&s.user?(s.session&&(yield r._saveSession(s.session),yield r._notifyAllSubscribers("SIGNED_IN",s.session)),{data:{user:s.user,session:s.session},error:o}):{data:{user:null,session:null},error:new Dh}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOAuth(n){var r=this;return M(function*(){var i,s,o,a;return yield r._removeSession(),yield r._handleProviderSignIn(n.provider,{redirectTo:null===(i=n.options)||void 0===i?void 0:i.redirectTo,scopes:null===(s=n.options)||void 0===s?void 0:s.scopes,queryParams:null===(o=n.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:null===(a=n.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(n){var r=this;return M(function*(){return yield r.initializePromise,r._acquireLock(-1,M(function*(){return r._exchangeCodeForSession(n)}))})()}_exchangeCodeForSession(n){var r=this;return M(function*(){const i=yield qc(r.storage,`${r.storageKey}-code-verifier`),{data:s,error:o}=yield Q(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:n,code_verifier:i},xform:nr});return yield wh(r.storage,`${r.storageKey}-code-verifier`),o?{data:{user:null,session:null},error:o}:s&&s.session&&s.user?(s.session&&(yield r._saveSession(s.session),yield r._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:o}):{data:{user:null,session:null},error:new Dh}})()}signInWithIdToken(n){var r=this;return M(function*(){yield r._removeSession();try{const{options:i,provider:s,token:o,access_token:a,nonce:l}=n,u=yield Q(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:s,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:nr}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:d&&d.session&&d.user?(d.session&&(yield r._saveSession(d.session),yield r._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h}):{data:{user:null,session:null},error:new Dh}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOtp(n){var r=this;return M(function*(){var i,s,o,a,l;try{if(yield r._removeSession(),"email"in n){const{email:u,options:d}=n;let h=null,p=null;if("pkce"===r.flowType){const y=uo();yield Ri(r.storage,`${r.storageKey}-code-verifier`,y),h=yield ho(y),p=y===h?"plain":"s256"}const{error:f}=yield Q(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:u,data:null!==(i=d?.data)&&void 0!==i?i:{},create_user:null===(s=d?.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in n){const{phone:u,options:d}=n,{data:h,error:p}=yield Q(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:u,data:null!==(o=d?.data)&&void 0!==o?o:{},create_user:null===(a=d?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:null!==(l=d?.channel)&&void 0!==l?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new $c("You must provide either an email or phone number.")}catch(u){if(Z(u))return{data:{user:null,session:null},error:u};throw u}})()}verifyOtp(n){var r=this;return M(function*(){var i,s;try{let o,a;"email_change"!==n.type&&"phone_change"!==n.type&&(yield r._removeSession()),"options"in n&&(o=null===(i=n.options)||void 0===i?void 0:i.redirectTo,a=null===(s=n.options)||void 0===s?void 0:s.captchaToken);const{data:l,error:u}=yield Q(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:nr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(yield r._saveSession(d),yield r._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}})()}signInWithSSO(n){var r=this;return M(function*(){var i,s,o;try{return yield r._removeSession(),yield Q(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:null!==(s=null===(i=n.options)||void 0===i?void 0:i.redirectTo)&&void 0!==s?s:void 0}),null!==(o=n?.options)&&void 0!==o&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:r.headers,xform:cP})}catch(a){if(Z(a))return{data:null,error:a};throw a}})()}reauthenticate(){var n=this;return M(function*(){return yield n.initializePromise,yield n._acquireLock(-1,M(function*(){return yield n._reauthenticate()}))})()}_reauthenticate(){var n=this;return M(function*(){try{return yield n._useSession(function(){var r=M(function*(i){const{data:{session:s},error:o}=i;if(o)throw o;if(!s)throw new ji;const{error:a}=yield Q(n.fetch,"GET",`${n.url}/reauthenticate`,{headers:n.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}});return function(i){return r.apply(this,arguments)}}())}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(n){var r=this;return M(function*(){try{"email_change"!=n.type&&"phone_change"!=n.type&&(yield r._removeSession());const i=`${r.url}/resend`;if("email"in n){const{email:s,type:o,options:a}=n,{error:l}=yield Q(r.fetch,"POST",i,{headers:r.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in n){const{phone:s,type:o,options:a}=n,{data:l,error:u}=yield Q(r.fetch,"POST",i,{headers:r.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new $c("You must provide either an email or phone number and a type")}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})()}getSession(){var n=this;return M(function*(){return yield n.initializePromise,n._acquireLock(-1,M(function*(){return n._useSession(function(){var r=M(function*(i){return i});return function(i){return r.apply(this,arguments)}}())}))})()}_acquireLock(n,r){var i=this;return M(function*(){i._debug("#_acquireLock","begin",n);try{if(i.lockAcquired){const s=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),o=M(function*(){return yield s,yield r()})();return i.pendingInLock.push(M(function*(){try{yield o}catch{}})()),o}return yield i.lock(`lock:${i.storageKey}`,n,M(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const s=r();for(i.pendingInLock.push(M(function*(){try{yield s}catch{}})()),yield s;i.pendingInLock.length;){const o=[...i.pendingInLock];yield Promise.all(o),i.pendingInLock.splice(0,o.length)}return yield s}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(n){var r=this;return M(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield n(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var n=this;return M(function*(){n._debug("#__loadSession()","begin"),n.lockAcquired||n._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield qc(n.storage,n.storageKey);if(n._debug("#getSession()","session from storage",i),null!==i&&(n._isValidSession(i)?r=i:(n._debug("#getSession()","session from storage is not valid"),yield n._removeSession())),!r)return{data:{session:null},error:null};const s=!!r.expires_at&&r.expires_at<=Date.now()/1e3;if(n._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s)return{data:{session:r},error:null};const{session:o,error:a}=yield n._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{n._debug("#__loadSession()","end")}})()}getUser(n){var r=this;return M(function*(){return n?yield r._getUser(n):(yield r.initializePromise,r._acquireLock(-1,M(function*(){return yield r._getUser()})))})()}_getUser(n){var r=this;return M(function*(){try{return n?yield Q(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:n,xform:rr}):yield r._useSession(function(){var i=M(function*(s){var o,a;const{data:l,error:u}=s;if(u)throw u;return yield Q(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(a=null===(o=l.session)||void 0===o?void 0:o.access_token)&&void 0!==a?a:void 0,xform:rr})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})()}updateUser(n,r={}){var i=this;return M(function*(){return yield i.initializePromise,yield i._acquireLock(-1,M(function*(){return yield i._updateUser(n,r)}))})()}_updateUser(n,r={}){var i=this;return M(function*(){try{return yield i._useSession(function(){var s=M(function*(o){const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new ji;const u=a.session;let d=null,h=null;if("pkce"===i.flowType&&null!=n.email){const y=uo();yield Ri(i.storage,`${i.storageKey}-code-verifier`,y),d=yield ho(y),h=y===d?"plain":"s256"}const{data:p,error:f}=yield Q(i.fetch,"PUT",`${i.url}/user`,{headers:i.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:rr});if(f)throw f;return u.user=p.user,yield i._saveSession(u),yield i._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}});return function(o){return s.apply(this,arguments)}}())}catch(s){if(Z(s))return{data:{user:null},error:s};throw s}})()}_decodeJWT(n){return e5(n)}setSession(n){var r=this;return M(function*(){return yield r.initializePromise,yield r._acquireLock(-1,M(function*(){return yield r._setSession(n)}))})()}_setSession(n){var r=this;return M(function*(){try{if(!n.access_token||!n.refresh_token)throw new ji;const i=Date.now()/1e3;let s=i,o=!0,a=null;const l=e5(n.access_token);if(l.exp&&(s=l.exp,o=s<=i),o){const{session:u,error:d}=yield r._callRefreshToken(n.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=yield r._getUser(n.access_token);if(d)throw d;a={access_token:n.access_token,refresh_token:n.refresh_token,user:u.user,token_type:"bearer",expires_in:s-i,expires_at:s},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if(Z(i))return{data:{session:null,user:null},error:i};throw i}})()}refreshSession(n){var r=this;return M(function*(){return yield r.initializePromise,yield r._acquireLock(-1,M(function*(){return yield r._refreshSession(n)}))})()}_refreshSession(n){var r=this;return M(function*(){try{return yield r._useSession(function(){var i=M(function*(s){var o;if(!n){const{data:u,error:d}=s;if(d)throw d;n=null!==(o=u.session)&&void 0!==o?o:void 0}if(!n?.refresh_token)throw new ji;const{session:a,error:l}=yield r._callRefreshToken(n.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})()}_getSessionFromURL(n){var r=this;return M(function*(){try{if(!On())throw new Uc("No browser detected.");if("implicit"===r.flowType&&!r._isImplicitGrantFlow())throw new Uc("Not a valid implicit grant flow url.");if("pkce"==r.flowType&&!n)throw new n5("Not a valid PKCE flow url.");const i=Mh(window.location.href);if(n){if(!i.code)throw new n5("No code detected.");const{data:C,error:T}=yield r._exchangeCodeForSession(i.code);if(T)throw T;const ie=new URL(window.location.href);return ie.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ie.toString()),{data:{session:C.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new Uc(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=i;if(!(a&&u&&l&&h))throw new Uc("No session defined in URL");const p=Math.round(Date.now()/1e3),f=parseInt(u);let y=p+f;d&&(y=parseInt(d));const g=y-p;1e3*g<=fo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=y-f;p-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,y,p):p-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",v,y,p);const{data:k,error:m}=yield r._getUser(a);if(m)throw m;const b={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:f,expires_at:y,refresh_token:l,token_type:h,user:k.user};return window.location.hash="",r._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:i.type},error:null}}catch(i){if(Z(i))return{data:{session:null,redirectType:null},error:i};throw i}})()}_isImplicitGrantFlow(){const n=Mh(window.location.href);return!(!On()||!n.access_token&&!n.error_description)}_isPKCEFlow(){var n=this;return M(function*(){const r=Mh(window.location.href),i=yield qc(n.storage,`${n.storageKey}-code-verifier`);return!(!r.code||!i)})()}signOut(n={scope:"global"}){var r=this;return M(function*(){return yield r.initializePromise,yield r._acquireLock(-1,M(function*(){return yield r._signOut(n)}))})()}_signOut({scope:n}={scope:"global"}){var r=this;return M(function*(){return yield r._useSession(function(){var i=M(function*(s){var o;const{data:a,error:l}=s;if(l)return{error:l};const u=null===(o=a.session)||void 0===o?void 0:o.access_token;if(u){const{error:d}=yield r.admin.signOut(u,n);if(d&&(!function rP(e){return Z(e)&&"AuthApiError"===e.name}(d)||404!==d.status&&401!==d.status))return{error:d}}return"others"!==n&&(yield r._removeSession(),yield wh(r.storage,`${r.storageKey}-code-verifier`),yield r._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function(s){return i.apply(this,arguments)}}())})()}onAuthStateChange(n){var r=this;const i=function WI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}(),s={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),M(function*(){yield r.initializePromise,yield r._acquireLock(-1,M(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:s}}}_emitInitialSession(n){var r=this;return M(function*(){return yield r._useSession(function(){var i=M(function*(s){var o,a;try{const{data:{session:l},error:u}=s;if(u)throw u;yield null===(o=r.stateChangeEmitters.get(n))||void 0===o?void 0:o.callback("INITIAL_SESSION",l),r._debug("INITIAL_SESSION","callback id",n,"session",l)}catch(l){yield null===(a=r.stateChangeEmitters.get(n))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",n,"error",l),console.error(l)}});return function(s){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(n,r={}){var i=this;return M(function*(){let s=null,o=null;if("pkce"===i.flowType){const a=uo();yield Ri(i.storage,`${i.storageKey}-code-verifier`,a),s=yield ho(a),o=a===s?"plain":"s256"}try{return yield Q(i.fetch,"POST",`${i.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:i.headers,redirectTo:r.redirectTo})}catch(a){if(Z(a))return{data:null,error:a};throw a}})()}_refreshAccessToken(n){var r=this;return M(function*(){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;r._debug(i,"begin");try{const s=Date.now();return yield function JI(e,t){return new Promise((r,i)=>{M(function*(){for(let s=0;s<1/0;s++)try{const o=yield e(s);if(!t(s,null,o))return void r(o)}catch(o){if(!t(s,o))return void i(o)}})()})}(function(){var o=M(function*(a){return yield function YI(e){return _h.apply(this,arguments)}(200*a),r._debug(i,"refreshing attempt",a),yield Q(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:r.headers,xform:nr})});return function(a){return o.apply(this,arguments)}}(),(o,a,l)=>l&&l.error&&r5(l.error)&&Date.now()+200*(o+1)-s<fo)}catch(s){if(r._debug(i,"error",s),Z(s))return{data:{session:null,user:null},error:s};throw s}finally{r._debug(i,"end")}})()}_isValidSession(n){return"object"==typeof n&&null!==n&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){var i=this;return M(function*(){const s=yield i._getUrlForProvider(n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",s),On()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}})()}_recoverAndRefresh(){var n=this;return M(function*(){var r;const i="#_recoverAndRefresh()";n._debug(i,"begin");try{const s=yield qc(n.storage,n.storageKey);if(n._debug(i,"session from storage",s),!n._isValidSession(s))return n._debug(i,"session is not valid"),void(null!==s&&(yield n._removeSession()));const o=Math.round(Date.now()/1e3),a=(null!==(r=s.expires_at)&&void 0!==r?r:1/0)<o+10;if(n._debug(i,`session has${a?"":" not"} expired with margin of 10s`),a){if(n.autoRefreshToken&&s.refresh_token){const{error:l}=yield n._callRefreshToken(s.refresh_token);l&&(console.error(l),r5(l)||(n._debug(i,"refresh failed with a non-retryable error, removing the session",l),yield n._removeSession()))}}else yield n._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return n._debug(i,"error",s),void console.error(s)}finally{n._debug(i,"end")}})()}_callRefreshToken(n){var r=this;return M(function*(){var i,s;if(!n)throw new ji;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;r._debug(o,"begin");try{r.refreshingDeferred=new Bc;const{data:a,error:l}=yield r._refreshAccessToken(n);if(l)throw l;if(!a.session)throw new ji;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return r.refreshingDeferred.resolve(u),u}catch(a){if(r._debug(o,"error",a),Z(a)){const l={session:null,error:a};return null===(i=r.refreshingDeferred)||void 0===i||i.resolve(l),l}throw null===(s=r.refreshingDeferred)||void 0===s||s.reject(a),a}finally{r.refreshingDeferred=null,r._debug(o,"end")}})()}_notifyAllSubscribers(n,r,i=!0){var s=this;return M(function*(){const o=`#_notifyAllSubscribers(${n})`;s._debug(o,"begin",r,`broadcast = ${i}`);try{s.broadcastChannel&&i&&s.broadcastChannel.postMessage({event:n,session:r});const a=[],l=Array.from(s.stateChangeEmitters.values()).map(function(){var u=M(function*(d){try{yield d.callback(n,r)}catch(h){a.push(h)}});return function(d){return u.apply(this,arguments)}}());if(yield Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{s._debug(o,"end")}})()}_saveSession(n){var r=this;return M(function*(){r._debug("#_saveSession()",n),yield r._persistSession(n)})()}_persistSession(n){return this._debug("#_persistSession()",n),Ri(this.storage,this.storageKey,n)}_removeSession(){var n=this;return M(function*(){n._debug("#_removeSession()"),yield wh(n.storage,n.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&On()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var n=this;return M(function*(){yield n._stopAutoRefresh(),n._debug("#_startAutoRefresh()");const r=setInterval(()=>n._autoRefreshTokenTick(),fo);n.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(M(function*(){yield n.initializePromise,yield n._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var n=this;return M(function*(){n._debug("#_stopAutoRefresh()");const r=n.autoRefreshTicker;n.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var n=this;return M(function*(){n._removeVisibilityChangedCallback(),yield n._startAutoRefresh()})()}stopAutoRefresh(){var n=this;return M(function*(){n._removeVisibilityChangedCallback(),yield n._stopAutoRefresh()})()}_autoRefreshTokenTick(){var n=this;return M(function*(){n._debug("#_autoRefreshTokenTick()","begin");try{yield n._acquireLock(0,M(function*(){try{const r=Date.now();try{return yield n._useSession(function(){var i=M(function*(s){const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at)return void n._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*o.expires_at-r)/fo);n._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield n._callRefreshToken(o.refresh_token))});return function(s){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{n._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof kP))throw r;n._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var n=this;return M(function*(){if(n._debug("#_handleVisibilityChange()"),!On()||!window?.addEventListener)return n.autoRefreshToken&&n.startAutoRefresh(),!1;try{n.visibilityChangedCallback=M(function*(){return yield n._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",n.visibilityChangedCallback),yield n._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(n){var r=this;return M(function*(){const i=`#_onVisibilityChanged(${n})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),n||(yield r.initializePromise,yield r._acquireLock(-1,M(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(n,r){var i=this;return M(function*(){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===i.flowType){const o=uo();yield Ri(i.storage,`${i.storageKey}-code-verifier`,o);const a=yield ho(o),l=o===a?"plain":"s256";i._debug("PKCE","code verifier",`${o.substring(0,5)}...`,"code challenge",a,"method",l);const u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return`${i.url}/authorize?${s.join("&")}`})()}_unenroll(n){var r=this;return M(function*(){try{return yield r._useSession(function(){var i=M(function*(s){var o;const{data:a,error:l}=s;return l?{data:null,error:l}:yield Q(r.fetch,"DELETE",`${r.url}/factors/${n.factorId}`,{headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:null,error:i};throw i}})()}_enroll(n){var r=this;return M(function*(){try{return yield r._useSession(function(){var i=M(function*(s){var o,a;const{data:l,error:u}=s;if(u)return{data:null,error:u};const{data:d,error:h}=yield Q(r.fetch,"POST",`${r.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:r.headers,jwt:null===(o=l?.session)||void 0===o?void 0:o.access_token});return h?{data:null,error:h}:(!(null===(a=d?.totp)||void 0===a)&&a.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:null,error:i};throw i}})()}_verify(n){var r=this;return M(function*(){return r._acquireLock(-1,M(function*(){try{return yield r._useSession(function(){var i=M(function*(s){var o;const{data:a,error:l}=s;if(l)return{data:null,error:l};const{data:u,error:d}=yield Q(r.fetch,"POST",`${r.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token});return d?{data:null,error:d}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:null,error:i};throw i}}))})()}_challenge(n){var r=this;return M(function*(){return r._acquireLock(-1,M(function*(){try{return yield r._useSession(function(){var i=M(function*(s){var o;const{data:a,error:l}=s;return l?{data:null,error:l}:yield Q(r.fetch,"POST",`${r.url}/factors/${n.factorId}/challenge`,{headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:null,error:i};throw i}}))})()}_challengeAndVerify(n){var r=this;return M(function*(){const{data:i,error:s}=yield r._challenge({factorId:n.factorId});return s?{data:null,error:s}:yield r._verify({factorId:n.factorId,challengeId:i.id,code:n.code})})()}_listFactors(){var n=this;return M(function*(){const{data:{user:r},error:i}=yield n.getUser();if(i)return{data:null,error:i};const s=r?.factors||[],o=s.filter(a=>"totp"===a.factor_type&&"verified"===a.status);return{data:{all:s,totp:o},error:null}})()}_getAuthenticatorAssuranceLevel(){var n=this;return M(function*(){return n._acquireLock(-1,M(function*(){return yield n._useSession(function(){var r=M(function*(i){var s,o;const{data:{session:a},error:l}=i;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const u=n._decodeJWT(a.access_token);let d=null;u.aal&&(d=u.aal);let h=d;return(null!==(o=null===(s=a.user.factors)||void 0===s?void 0:s.filter(y=>"verified"===y.status))&&void 0!==o?o:[]).length>0&&(h="aal2"),{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:u.amr||[]},error:null}});return function(i){return r.apply(this,arguments)}}())}))})()}}return e.nextInstanceID=0,e})();class bP extends xP{constructor(t){super(t)}}const DP={headers:HI},EP={schema:"public"},SP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AP={};class TP{constructor(t,n,r){var i,s,o,a,l,u,d,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const p=function UI(e){return e.replace(/\/$/,"")}(t);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g=function GI(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:u}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}(r??{},{db:EP,realtime:AP,auth:Object.assign(Object.assign({},SP),{storageKey:f}),global:DP});this.storageKey=null!==(s=null===(i=g.auth)||void 0===i?void 0:i.storageKey)&&void 0!==s?s:"",this.headers=null!==(a=null===(o=g.global)||void 0===o?void 0:o.headers)&&void 0!==a?a:{},this.auth=this._initSupabaseAuthClient(null!==(l=g.auth)&&void 0!==l?l:{},this.headers,null===(u=g.global)||void 0===u?void 0:u.fetch),this.fetch=$I(n,this._getAccessToken.bind(this),null===(d=g.global)||void 0===d?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new ph(`${p}/rest/v1`,{headers:this.headers,schema:null===(h=g.db)||void 0===h?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new oI(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new VI(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return null!==(n=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==n?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,debug:a},l,u){return new bP({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),l),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,debug:a,fetch:u})}_initRealtimeClient(t){return new EI(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){"TOKEN_REFRESHED"!==t&&"SIGNED_IN"!==t||this.changedAccessToken===r?"SIGNED_OUT"===t&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==n&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(r??null),this.changedAccessToken=r)}}let u5=(()=>{class e{constructor(n){this.notification=n,this.supabase=((e,t,n)=>new TP(e,t,void 0))("https://deyxnszwkjaayzlwdefu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRleXhuc3p3a2phYXl6bHdkZWZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY1MTE1NTEsImV4cCI6MjAxMjA4NzU1MX0.7OSbJx8EBJf-LAbrGC3R86GdZJnUoq1rSK73VLAls1M"),this.authState=new $i,this.authStateSubscription=this.supabase.auth.onAuthStateChange((r,i)=>this.authState.next({event:r,session:i})).data.subscription,this.authStateChange=this.authState.asObservable(),this.tags={\u00e9tablissement:{icon:"building"},salari\u00e9:{icon:"user-check-2"}}}getContacts(n){let r=this.supabase.from("contacts").select();if(n?.terms&&n.terms.length>2){const i=n.terms.trim().replace(/\s+/g," ").split(/\s/g).map(s=>`'${s}':*`).join(" & ");r=r.textSearch("full_text",i)}return n?.tags&&n.tags.length>0&&(r=r.contains("tags",n.tags)),this.wrap(r)}signIn(n){return this.wrap(this.supabase.auth.signInWithPassword(n))}signOut(){return this.wrap(this.supabase.auth.signOut())}updateUser(n){return this.wrap(this.supabase.auth.updateUser(n))}wrap(n,r={}){if(r.cache){const i=localStorage.getItem(r.cache);if(i)return c2(JSON.parse(i))}return Mo(n).pipe(ko(({error:i,data:s})=>(i&&this.notification.open({message:i.message,state:"warn"}),s&&r.cache&&localStorage.setItem(r.cache,JSON.stringify(s)),s)))}ngOnDestroy(){this.authStateSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)(R(H4))};static#t=this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const PP=["*"];var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const d5=["svg",c,[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]],h5=["svg",c,[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]],p5=["svg",c,[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]],f5=["svg",c,[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]],y5=["svg",c,[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]],g5=["svg",c,[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]],m5=["svg",c,[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]],v5=["svg",c,[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]],k5=["svg",c,[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]],M5=["svg",c,[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]],w5=["svg",c,[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]],_5=["svg",c,[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]],x5=["svg",c,[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]],Nh=new A("LucideIcons",{factory:()=>new Oh({})});class Oh{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return"object"==typeof this.icons&&t in this.icons}}let Cne=(()=>{class e{constructor(){this.color=c.stroke,this.size=c.width,this.strokeWidth=c["stroke-width"],this.absoluteStrokeWidth=!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Dne(e,t=3){return parseFloat(e.toFixed(t)).toString(10)}let b5=(()=>{class e{constructor(n,r,i,s,o){this.elem=n,this.renderer=r,this.changeDetector=i,this.iconProviders=s,this.iconConfig=o,this.absoluteStrokeWidth=!1,this.defaultSize=c.height}set img(n){this.name=n}get size(){return this._size??this.iconConfig.size}set size(n){this._size=this.parseNumber(n)}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){this._strokeWidth=this.parseNumber(n)}ngOnChanges(n){if(this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth,n.name||n.img){const r=n.img?.currentValue??n.name?.currentValue;if("string"==typeof r){const i=this.getIcon(this.toPascalCase(r));if(!i)throw new Error(`The "${r}" icon has not been provided by any available icon providers.`);this.replaceElement(i)}else{if("object"!=typeof r)throw new Error("No icon name or image has been provided.");this.replaceElement(r)}}this.changeDetector.markForCheck()}replaceElement(n){const r={...c,...n[1],width:"number"==typeof this.size?this.size.toString(10):this.size,height:"number"==typeof this.size?this.size.toString(10):this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?Dne(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)},i=this.createElement([n[0],r,n[2]]);i.classList.add("lucide"),"string"==typeof this.name&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(o=>o.trim()).filter(o=>o.length>0));const s=this.elem.nativeElement.childNodes;for(let o of s)this.renderer.removeChild(this.elem.nativeElement,o);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,s)=>i.toUpperCase()+s.toLowerCase())}parseNumber(n){if("string"==typeof n){const r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(const r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,i=[]]){const s=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(o=>{const a="string"==typeof r[o]?r[o]:r[o].toString(10);this.renderer.setAttribute(s,o,a)}),i.length&&i.forEach(o=>{const a=this.createElement(o);this.renderer.appendChild(s,a)}),s}}return e.\u0275fac=function(n){return new(n||e)(x(kt),x(Gn),x(qu),x(Nh),x(Cne))},e.\u0275cmp=To({type:e,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",size:"size",strokeWidth:"strokeWidth",absoluteStrokeWidth:"absoluteStrokeWidth"},features:[en],ngContentSelectors:PP,decls:1,vars:0,template:function(n,r){1&n&&(function py(e){const t=_()[Ce][je];if(!t.projection){const r=t.projection=us(e?e.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const o=e?f7(s,e):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function fy(e,t=0,n){const r=_(),i=G(),s=ui(i,q+e,16,null,n||null);null===s.projection&&(s.projection=t),Nl(),(!r[vn]||jr())&&32!=(32&s.flags)&&function h8(e,t,n){gf(t[L],0,t,n,c1(e,n,t),uf(n.parent||t[je],n,t))}(i,r,s)}(0))},encapsulation:2}),e})();class Ene{constructor(t){this.icons=t}}const Sne=e=>new Oh(e??{});let Ane=(()=>{class e{static pick(n){return{ngModule:e,providers:[{provide:Nh,multi:!0,useValue:new Oh(n)},{provide:Nh,multi:!0,useFactory:Sne,deps:[[new Zo,Ene]]}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=St({imports:[[]]}),e})();const Tne=function(e){return{pending:e}};let Ine=(()=>{class e{constructor(n,r){this.api=n,this.form=r,this.signInForm=this.form.group({email:[,Fk.email],password:[,Fk.required]}),this.state={pending:!1}}signIn(){this.signInForm.valid&&(this.state.pending=!0,this.api.signIn(this.signInForm.value).pipe(j4(()=>this.state.pending=!1)))}static#e=this.\u0275fac=function(r){return new(r||e)(x(u5),x(UT))};static#t=this.\u0275cmp=To({type:e,selectors:[["app-signin"]],decls:14,vars:4,consts:[[1,"fixed","w-screen","h-screen","top-0","left-0","flex","flex-col","items-center","justify-start","bg-slate-900/50","backdrop-blur-xl","z-50"],["src","assets/logo.png","loading","lazy",1,"w-60","mt-8","rounded-full"],[1,"mt-8","text-loubottin-400"],[1,"mt-12","flex","flex-col"],[1,"mb-6"],[1,"flex","flex-col","items-start","gap-6",3,"formGroup","ngSubmit"],["type","email","formControlName","email","placeholder","Adresse email",1,"w-full"],["type","password","formControlName","password","placeholder","Mot de passe",1,"w-full"],["type","submit",1,"button-flat","place-self-center",3,"ngClass"],["name","loader","ngClass","animate-spin"],["name","chevron-right"]],template:function(r,i){1&r&&(Y(0,"section",0),Pe(1,"img",1),Y(2,"h1",2),$e(3,"Loup Bottin"),re(),Y(4,"div",3)(5,"h2",4),$e(6,"Connectez-vous \xe0 votre compte"),re(),Y(7,"form",5),Ve("ngSubmit",function(){return i.signIn()}),Pe(8,"input",6)(9,"input",7),Y(10,"button",8),Pe(11,"lucide-icon",9),$e(12," Connection "),Pe(13,"lucide-icon",10),re()()()()),2&r&&(he(7),ke("formGroup",i.signInForm),he(3),ke("ngClass",$a(2,Tne,i.state.pending)))},dependencies:[od,m4,Xs,Kd,Qd,so,Vc,b5],encapsulation:2})}return e})();const Pne=["notificationsTemplate"];function Nne(e,t){1&e&&Pe(0,"app-signin")}function One(e,t){if(1&e){const n=Mi();Y(0,"button",20),Ve("click",function(){return Hr(n),zr(wt(2).signOut())}),$e(1," Sign Out "),Pe(2,"lucide-icon",21),re()}}function Fne(e,t){if(1&e){const n=Mi();Y(0,"button",22),Ve("click",function(){let s;return Hr(n),zr(null==(s=wt(2).searchForm.get("terms"))?null:s.reset())}),Pe(1,"lucide-icon",23),re()}}const Lne=function(e){return{active:e}};function Rne(e,t){if(1&e){const n=Mi();Y(0,"button",24),Ve("click",function(){const s=Hr(n).$implicit;return zr(wt(2).toggleTagsFilter(s.key))}),Pe(1,"lucide-icon",25),$e(2),re()}if(2&e){const n=t.$implicit,r=wt(2);let i,s;ke("ngClass",$a(3,Lne,null==(i=r.searchForm.get("tags"))||null==i.value?null:i.value.includes(n.key))),he(1),ke("name",null!=(s=r.searchForm.get("tags"))&&null!=s.value&&s.value.includes(n.key)?"check-square":n.value.icon),he(1),Ps(" ",n.key," ")}}const Vne=function(e,t){return{"text-loubottin-400":e,"text-pink-400":t}};function jne(e,t){if(1&e&&Pe(0,"lucide-icon",32),2&e){const n=t.$implicit,r=wt(3);ke("name",r.tags?r.tags[n].icon:"")("ngClass",jg(2,Vne,"salari\xe9"===n,"\xe9tablissement"===n))}}function Hne(e,t){if(1&e&&(Y(0,"div",27),Pe(1,"lucide-icon",33),Y(2,"div",16),$e(3),re()()),2&e){const n=wt().$implicit;he(3),_i(n.address)}}function zne(e,t){if(1&e&&(Y(0,"div",27),Pe(1,"lucide-icon",34),Y(2,"div",16),$e(3),re()()),2&e){const n=wt().$implicit;he(3),_i(n.mobile)}}function qne(e,t){if(1&e&&(Y(0,"div",27),Pe(1,"lucide-icon",35),Y(2,"div",16),$e(3),re()()),2&e){const n=wt().$implicit;he(3),_i(n.phone)}}function Bne(e,t){if(1&e&&(Y(0,"div",26)(1,"div",27),ut(2,jne,1,5,"lucide-icon",28),Y(3,"div",29),$e(4),re()(),ut(5,Hne,4,1,"div",30),ut(6,zne,4,1,"div",30),ut(7,qne,4,1,"div",30),Pe(8,"div",31),re()),2&e){const n=t.$implicit;he(2),ke("ngForOf",n.tags),he(2),_i(n.name),he(1),ke("ngIf",n.address),he(1),ke("ngIf",n.mobile),he(1),ke("ngIf",n.phone)}}function $ne(e,t){if(1&e){const n=Mi();Oa(0),Y(1,"div",4)(2,"h1",5),$e(3,"Loup Bottin"),re(),ut(4,One,3,0,"button",6),re(),Y(5,"div",7)(6,"div",8)(7,"div",9)(8,"input",10),Ve("ngModelChange",function(){return Hr(n),zr(wt().searchForm.updateValueAndValidity())}),re(),Pe(9,"lucide-icon",11),ut(10,Fne,2,0,"button",12),re(),Y(11,"small",13),$e(12," Appuyez sur "),Y(13,"span",14),$e(14,"\u23ce"),re(),$e(15," pour lancer la recheche "),re(),Y(16,"div",15)(17,"span",16),$e(18,"Tags"),re(),ut(19,Rne,3,5,"button",17),function Ug(e,t){const n=G();let r;const i=e+q;n.firstCreatePass?(r=function Cb(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ur(r.type)),a=st(x);try{const l=zo(!1),u=s();return zo(l),function o7(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,_(),i,u),u}finally{st(a)}}(20,"keyvalue"),re()()(),Y(21,"div",18),ut(22,Bne,9,5,"div",19),re(),Fa()}if(2&e){const n=wt();let r;he(4),ke("ngIf",n.session),he(1),ke("formGroup",n.searchForm),he(5),ke("ngIf",null==(r=n.searchForm.get("terms"))?null:r.value),he(9),ke("ngForOf",Gg(20,6,n.tags)),he(3),ke("ngForOf",n.contacts)("ngForTrackBy",n.trackById)}}const Une=function(e,t,n){return{"text-slate-500 animate-spin":e,"text-loubottin-500":t,"text-red-500":n}};function Gne(e,t){if(1&e&&(Y(0,"div",41),Pe(1,"lucide-icon",32),re()),2&e){const n=wt().$implicit;let r;he(1),ke("name",null!==(r=n.icon)&&void 0!==r?r:"pending"===n.state?"loader":"success"===n.state?"check":"warn"===n.state?"alert-triangle":"")("ngClass",_u(2,Une,"pending"===n.state,"success"===n.state,"warn"===n.state))}}function Zne(e,t){if(1&e){const n=Mi();Y(0,"button",42),Ve("click",function(){return Hr(n),zr(wt().$implicit.close())}),Pe(1,"lucide-icon",23),re()}}const Wne=function(e,t,n){return{"outline-slate-700 bg-slate-800/75":e,"text-loubottin-100 bg-loubottin-950/75 outline-loubottin-500":t,"text-red-100 bg-red-950/75 outline-red-500":n}},Kne=function(e){return{zIndex:e}};function Qne(e,t){if(1&e&&(Y(0,"div",36)(1,"div",37),ut(2,Gne,2,6,"div",38),Y(3,"div"),$e(4),re(),Y(5,"div",39),ut(6,Zne,2,0,"button",40),re()()()),2&e){const n=t.$implicit,r=t.index;ke("@notification",void 0),he(1),ke("ngClass",_u(6,Wne,"warn"!==n.state&&"success"!==n.state,"success"===n.state,"warn"===n.state))("ngStyle",$a(10,Kne,100+r)),he(1),ke("ngIf",n.icon||n.state),he(2),Ps(" ",n.message," "),he(2),ke("ngIf","pending"!==n.state)}}let Yne=(()=>{class e{constructor(n,r,i){this.api=n,this.notification=r,this.elementRef=i,this.subscriptions=new Se,this.session=null,this.searchForm=new Pi({terms:new Cr(""),tags:new Cr([])}),this.tags=this.api.tags,this.subscriptions.add(this.notification.onNotificationsChange.subscribe(s=>this.notifications=s)),this.subscriptions.add(this.api.authStateChange.subscribe(({event:s,session:o})=>{if("PASSWORD_RECOVERY"===s){const a=prompt("New password ?");this.api.updateUser({password:a})}else this.session=o;this.session&&this.searchForm.reset({},{emitEvent:!0})})),this.subscriptions.add(this.searchForm.valueChanges.pipe(u2(),function JT(e,t=YT){return fn((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function l(){const u=o+e,d=t.now();if(d<u)return i=this.schedule(void 0,u-d),void r.add(i);a()}n.subscribe(yn(r,u=>{s=u,o=t.now(),i||(i=t.schedule(l,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(500),il(s=>{const o=this.notification.open({message:"search",state:"pending"});return this.api.getContacts(s).pipe(j4(()=>o.close()))})).subscribe(s=>this.revealContacts(s)))}signOut(){this.api.signOut()}trackById(n,r){return r.id}revealContacts(n){this.contacts=n,setTimeout(()=>{this.elementRef.nativeElement.querySelectorAll(".contact.invisible").forEach((r,i)=>{r.offsetTop<=window.innerHeight?setTimeout(()=>{r.classList.remove("invisible")},50*i):r.classList.remove("scale-in","invisible")})},100)}toggleTagsFilter(n){const r=this.searchForm.get("tags")?.value??[];r.includes(n)?r.splice(r.indexOf(n),1):r.push(n),this.searchForm.get("tags")?.setValue(r)}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)(x(u5),x(H4),x(kt))};static#t=this.\u0275cmp=To({type:e,selectors:[["app-root"]],viewQuery:function(r,i){if(1&r&&sm(Pne,5),2&r){let s;im(s=function om(){return function Yb(e,t){return e[Jt].queries[t].queryList}(_(),pp())}())&&(i.notificationsTemplateRef=s.first)}},decls:5,vars:4,consts:[["signInTemplate",""],[4,"ngIf","ngIfElse"],[1,"fixed","w-full","max-w-md","bottom-0","left-1/2","-translate-x-1/2"],["class","overflow-visible mb-4",4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-full","max-w-screen-xl","px-8","mx-auto","mt-8","flex","items-center","justify-between"],[1,"text-loubottin-400"],["class","button-warn",3,"click",4,"ngIf"],[1,"w-full","my-24","sticky","-top-1","pt-9","pb-8","z-50","bg-slate-900/75","backdrop-blur-xl",3,"formGroup"],[1,"max-w-screen-xl","flex","flex-col","mx-auto","px-8"],[1,"relative"],["type","text","placeholder","Rechercher","formControlName","terms",1,"px-12","w-full","rounded-full","shadow-lg","peer",3,"ngModelChange"],["name","search","ngClass","absolute h-full left-4 text-slate-500 peer-focus:text-loubottin-500"],["class","absolute right-0.5 top-0.5 button-icon",3,"click",4,"ngIf"],[1,"text-slate-500","place-self-end","mt-2"],[1,"text-white","bg-slate-700","px-1.5","rounded-md","text-base"],[1,"flex","flex-row","flex-wrap","items-center","gap-4","mt-4"],[1,"text-slate-400"],["class","button-flat button-filter",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"w-full","max-w-screen-xl","px-8","mx-auto","my-8","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","contact",4,"ngFor","ngForOf","ngForTrackBy"],[1,"button-warn",3,"click"],["name","log-out"],[1,"absolute","right-0.5","top-0.5","button-icon",3,"click"],["name","x"],[1,"button-flat","button-filter",3,"ngClass","click"],[3,"name"],[1,"contact"],[1,"flex","items-start","gap-2"],[3,"name","ngClass",4,"ngFor","ngForOf"],[1,"text-xl","mb-2"],["class","flex items-start gap-2",4,"ngIf"],[1,"flex-1"],[3,"name","ngClass"],["name","map-pin","ngClass","text-slate-500"],["name","smartphone","ngClass","text-slate-500"],["name","phone","ngClass","text-slate-500"],[1,"overflow-visible","mb-4"],[1,"relative","px-8","py-4","flex","flex-row","items-stretch","gap-4","rounded-2xl","outline","outline-1","shadow-xl","shadow-slate-950","backdrop-blur-xl",3,"ngClass","ngStyle"],["class","max-h-12 flex items-center flex-none",4,"ngIf"],[1,"max-h-12","flex","items-center","flex-none","-mr-4"],["class","button-icon",3,"click",4,"ngIf"],[1,"max-h-12","flex","items-center","flex-none"],[1,"button-icon",3,"click"]],template:function(r,i){if(1&r&&(ut(0,Nne,1,0,"ng-template",null,0,um),ut(2,$ne,23,8,"ng-container",1),Y(3,"div",2),ut(4,Qne,7,12,"div",3),re()),2&r){const s=function iy(e){return Vr(function qM(){return N.lFrame.contextLView}(),q+e)}(1);he(2),ke("ngIf",i.session)("ngIfElse",s),he(2),ke("ngForOf",i.notifications)("ngForTrackBy",i.trackById)}},dependencies:[od,vv,Mv,xv,Xs,Kd,Qd,so,Vc,b5,Ine,bv],encapsulation:2,data:{animation:eI}})}return e})(),Jne=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ht({type:e,bootstrap:[Yne]});static#n=this.\u0275inj=St({imports:[$v,zA,GT,ZT,Ane.pick({ChevronRight:y5,LogOut:m5,Search:M5,X:x5,Building:h5,UserCheck2:_5,CheckSquare:p5,MapPin:v5,Smartphone:w5,Phone:k5,Loader:g5,AlertTriangle:d5,Check:f5})]})}return e})();RE().bootstrapModule(Jne).catch(e=>console.error(e))},470:(pt,ft)=>{"use strict";var z=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();pt.exports=ft=z.fetch,z.fetch&&(ft.default=z.fetch.bind(z)),ft.Headers=z.Headers,ft.Request=z.Request,ft.Response=z.Response},150:pt=>{var ft=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};pt.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return ft()}try{return __global__||ft()}finally{delete Object.prototype.__global__}}()},624:(pt,ft,we)=>{var z;if("object"==typeof globalThis)z=globalThis;else try{z=we(150)}catch{}finally{if(!z&&typeof window<"u"&&(z=window),!z)throw new Error("Could not determine global this")}var Fn=z.WebSocket||z.MozWebSocket,zi=we(490);function sr(Se,qi){return qi?new Fn(Se,qi):new Fn(Se)}Fn&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(Se){Object.defineProperty(sr,Se,{get:function(){return Fn[Se]}})}),pt.exports={w3cwebsocket:Fn?sr:null,version:zi}},490:(pt,ft,we)=>{pt.exports=we(794).version},794:pt=>{"use strict";pt.exports={version:"1.0.34"}}},pt=>{pt(pt.s=320)}]);